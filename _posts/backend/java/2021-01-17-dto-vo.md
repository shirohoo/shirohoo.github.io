---
layout: post
category:
    - backend
    - java
date: 2021-01-17 14:45
title: DTOì™€ VOì˜ ì°¨ì´
description: >
    ì´ˆë³´ìë“¤ì´ ê°€ì¥ ë§ì´ ì‹¤ìˆ˜í•˜ëŠ” `DTO(Data Transfer Object)`ì™€ `VO(Value Object)`ì— ëŒ€í•œ ì •ë¦¬
image: /assets/img/backend/java.png
related_posts:
    - 
---

* toc
{:toc}
  
&nbsp;  

{: style="text-align: right" }
[ğŸ“œ ì°¸ê³  ë„ì„œ - í…ŒìŠ¤íŠ¸ ì£¼ë„ ê°œë°œ Test Driven Development By Example \| ì¼„íŠ¸ ë°± ì €](http://book.interpark.com/product/BookDisplay.do?method=detail&sc.prdNo=214078987&gclid=CjwKCAiAuoqABhAsEiwAdSkVVCyxc6VnNvJIyh9FXwrbUnaIktEGr5Tg-ViIb36ejrccJiHFD6baRoCWtcQAvDBwE)

&nbsp;  

ë§¤ìš° ë§ì€ ì´ˆë³´ìë“¤ì´ ì˜ ëª¨ë¥´ê³  ì‚¬ìš©í•˜ëŠ” ë¶€ë¶„ì´ë‹¤.

ë‚˜ë„ ë§ˆì°¬ê°€ì§€ì˜€ëŠ”ë° TDD ì±…ì„ ë³´ë‹¤ê°€ ì•½ê°„ì˜ í˜¸ê¸°ì‹¬ì´ ëœ»ë°–ì˜ ìˆ˜í™•ìœ¼ë¡œ ì´ì–´ì¡Œë‹¤.

í•œë²ˆ ì•Œì•„ë³´ì.

&nbsp;  

# DTO (Data Transfer Object)

---

ì§ì—­í•˜ìë©´ ë°ì´í„°ë¥¼ ì˜®ê²¨ì£¼ëŠ” ê°ì²´ë¼ëŠ” ëœ»ì´ë‹¤.

ì´ DTOëŠ” í”íˆ ìš°ë¦¬ê°€ `ìë°”ë¹ˆì¦ˆ(Java Beans)`ë¼ê³  ë¶€ë¥´ëŠ” í˜•íƒœì™€ ë˜‘ê°™ë‹¤ê³  ë³¼ ìˆ˜ ìˆë‹¤.

```java
public class Money {
    private String currency;
    private int amount;
    
    public Money(String currency, int amount){
        this.currency = currency;
        this.amount = amount;
    }

    public String getCurrency() {
        return currency;
    }

    public void setCurrency(String currency) {
        this.currency = currency;
    }

    public int getAmount() {
        return amount;
    }

    public void setAmount(int amount) {
        this.amount = amount;
    }
}
```

`Money`ë¼ëŠ” ë°ì´í„°ë¥¼ ì£¼ê³ ë°›ê¸° ìœ„í•´ ì¸ìŠ¤í„´ìŠ¤ ë³€ìˆ˜ `í†µí™”(currency)`ì™€ `ê°’(amount)`ì„ ì •ì˜í–ˆê³ 

ì¸ìŠ¤í„´ìŠ¤ ë³€ìˆ˜ë“¤ì„ ì´ˆê¸°í™”ì‹œì¼œì¤„ ìˆ˜ ìˆëŠ” `ìƒì„±ì(constructor)`ì™€

ì´ì— ì ‘ê·¼í•˜ê¸° ìœ„í•œ ìˆ˜`ì •ì(setter)`, `ì ‘ê·¼ì(getter)`ë¥¼ ì •ì˜í•œë‹¤.

ê·¸ëŸ¬ë©´ ì´ ê°ì²´ë¥¼ ë§¤ê°œë¡œ ê° ê³„ì¸µ ê°„ì— ë°ì´í„°ë¥¼ ì£¼ê³ ë°›ì„ ìˆ˜ ìˆì„ ê²ƒì´ë‹¤.

ì •ë§ ë‹¨ìˆœí•˜ê²Œ ìœ„ì˜ í˜•íƒœë¥¼ ê°–ëŠ” ê²ƒì€ DTOë¼ê³  ë´ë„ ë¬´ë°©í•˜ë‹¤.

&nbsp;  

# VO(Value Object)

---

ì§ì—­í•˜ë©´ `ê°’ ê°ì²´`ë¼ëŠ” ëœ»ì¸ë°

ë°ì´í„° ì „ë‹¬ì— ëª©ì ì„ ë‘ëŠ” `DTO`ì™€ ë‹¤ë¥´ê²Œ

`VO`ëŠ” ê°ì²´ ìì²´ë¥¼ ì–´ë– í•œ `ê°’(Value)`ìœ¼ë¡œì„œ ì‚¬ìš©í•˜ëŠ”ë° ëª©ì ì„ ë‘ê¸° ë•Œë¬¸ì—

DTOì™€ ì°¨ë³„í™”ë˜ëŠ” ì ì´ ëª‡ ê°€ì§€ ìˆë‹¤.

í•˜ë‚˜ëŠ” `equals()`ì™€ `hashCode()`ë¥¼ ë°˜ë“œì‹œ `ì¬ì •ì˜(Override)`í•´ì„œ ê° <u>ê°ì²´ì˜ ë™ë“±ì„±ì„ íŒë³„í•  ìˆ˜ ìˆì–´ì•¼ í•œë‹¤ëŠ” ê²ƒ</u>ì´ê³ ,

ë‹¤ë¥¸ í•˜ë‚˜ëŠ” <u>ê°ì²´ì˜ ì¸ìŠ¤í„´ìŠ¤ ë³€ìˆ˜ê°€ ìƒì„±ìì— ì˜í•´ í•œë²ˆ ì´ˆê¸°í™”ë˜ë©´ ì´ ê°’ì´  ë¶ˆë³€(Immutable)í•´ì•¼ í•œë‹¤ëŠ” ê²ƒ</u>ì´ë‹¤.

&nbsp;  

> **ğŸ’¡ í”„ë¡œê·¸ë˜ë°ì—ì„œì˜ ë™ë“±ì„±? ë™ì¼ì„±?**
> 
> - **ë™ë“±ì„±** - ë‘ ê°œì²´ì˜ `ê°€ì¹˜`ê°€ ë™ì¼í•¨ì„ ì˜ë¯¸. 
    > 10,000ì›ì§œë¦¬ ì§€í ë‘ì¥ì€ ì„œë¡œ ë…ë¦½ì ì¸ ë³„ê°œì˜ ê°œì²´ì´ì§€ë§Œ, `ë™ì¼í•œ ê°€ì¹˜`ë¥¼ ê°–ëŠ”ë‹¤.
> 
> 
> - **ë™ì¼ì„±** - ë‘ ê°œì²´ì˜ `ë©”ëª¨ë¦¬ ì£¼ì†Œ`ê°€ ë™ì¼í•¨ì„ ì˜ë¯¸. 
    > ì´ì— ëŒ€í•´ ê¶ê¸ˆí•˜ë‹¤ë©´ `ì–•ì€ë³µì‚¬`, `ê¹Šì€ë³µì‚¬`ë¥¼ ê³µë¶€í•´ë³´ë©´ ë„ì›€ì´ ë  ê²ƒì´ë‹¤.

&nbsp;  

ì˜ˆë¥¼ ë“¤ì–´ `5ì›`, `5ì›`, `2ì›`ì´ë¼ëŠ” í•œêµ­ ì›í™”ë¥¼ VOë¡œ ë§Œë“¤ê³ ì í•œë‹¤.

&nbsp;  

```java
public class KRW {
    private final int amount;

    public KRW(int amount) {
        this.amount = amount;
    }

    public int getAmount() {
        return amount;
    }

    @Override
    public boolean equals(Object object) {
        if(object instanceof KRW) {
            KRW won = (KRW) object;
            return amount == won.amount;
        }
        else {
            return false;
        }
    }

    @Override
    public int hashCode() {
        return Integer.toString(amount).hashCode();
    }
}

```

&nbsp;  

ì´ ê°ì²´ëŠ” ìƒì„±ìì— ì˜í•´ `amount`ê°€ ì´ˆê¸°í™”ë˜ë©´ ì ˆëŒ€ ë°”ë€Œì§€ ì•Šì•„ì•¼ í•œë‹¤. 

ì˜ˆë¥¼ë“¤ìë©´ ë‹¹ì‹ ì´ ì‹ë‹¹ì—ì„œ 7,000ì› ì§œë¦¬ ì‹ì‚¬ë¥¼ ë§ˆì¹˜ê³  10,000ì›ì„ ê±´ë„¸ëŠ”ë° 

ì£¼ì¸ì´ ëˆì´ ë¶€ì¡±í•´ì„œ ê²°ì œê°€ ì•ˆëœë‹¤ê³  ë§í•˜ë©´ ì´ëŠ” ë§ì´ ë˜ì§€ ì•ŠëŠ” ìƒí™©ì´ë‹¤. 

10,000ì› ì§œë¦¬ ì§€íëŠ” ê·¸ ì–´ë–¤ ìƒí™©ì—ì„œë„ 10,000ì›ì˜ ê°€ì¹˜ë¥¼ í•´ì•¼ë§Œ í•œë‹¤. ***(ë¶ˆë³€ì„±, Immutable)***

ê·¸ë¦¬ê³  ì—­ì‹œ ë„ˆë¬´ ë‹¹ì—°í•˜ê²Œë„ 

10,000ì›ì§œë¦¬ ì§€í ë‘ì¥ì´ ìˆì„ ê²½ìš° ë‘ ì§€íì˜ ê°€ì¹˜ëŠ” ë™ì¼í•´ì•¼ í•œë‹¤. ***(ë™ë“±ì„±)***

&nbsp;  

ì •ë§ ê°„ë‹¨í•˜ê²Œ í…ŒìŠ¤íŠ¸ë¥¼ í•´ë³´ì

&nbsp;  

```java
public class KRWTest {
    @Test
    public void test() {
        KRW five = new KRW(5);
        KRW five2 = new KRW(5);
        KRW two = new KRW(2);
        System.out.println(five == five2); // false
        System.out.println(five.equals(five2)); // true
        System.out.println(five.equals(two)); // false
        System.out.println(five2.equals(two)); // false
    }
}
```

&nbsp;  

> ëª¨ë“  ê²°ê³¼ë¥¼ ì½˜ì†”ë¡œ í™•ì¸í•˜ê¸° ìœ„í•´ ë‹¨ì •ë¬¸(assert)ì„ ì‚¬ìš©í•˜ì§€ ì•Šì•˜ë‹¤.

&nbsp;  

```java
System.out.println(five == five2); // false
System.out.println(five.equals(five2)); // true
```

&nbsp;  

`five`ì™€ `five2`ëŠ” ì„œë¡œ ë³„ê°œì˜ ê°ì²´ì„ì„ ì•Œ ìˆ˜ ìˆë‹¤. ***(ë™ì¼ì„± ë¹„êµ, ë¹„êµ ì—°ì‚°ìë¥¼ ì´ìš©í•œ ë¹„êµ ê²°ê³¼ false)***

í•˜ì§€ë§Œ ì´ ë‘ ê°ì²´ëŠ” ê°™ì€ 5ì›ì˜ ê°€ì¹˜ë¥¼ ê°–ëŠ”ë‹¤. ***(ë™ë“±ì„±)***

&nbsp;  

```java
System.out.println(five.equals(two)); // false
System.out.println(five2.equals(two)); // false
```

&nbsp;  

`five`, `five2`ì™€ `two`ì˜ ê°€ì¹˜ëŠ” ì„œë¡œ ê°™ì§€ ì•Šë‹¤. 

ì¦‰, 5ì›ê³¼ 5ì›ì€ ê°™ì€ ê°€ì¹˜ë¥¼ ê°–ì§€ë§Œ, 5ì›ê³¼ 2ì›ì˜ ê°€ì¹˜ëŠ” ë‹¤ë¥´ë‹¤.

&nbsp;  

ì¼ê²¬ ë³´ê¸°ì— ëë‚œ ê²ƒ ê°™ì§€ë§Œ ì´ ìƒíƒœë¡œ `five`ì™€ `five2`ë¥¼ `í•´ì‹œì»¬ë ‰ì…˜`ì—ì„œ ì‚¬ìš©í•œë‹¤ë©´ ì–´ë–¤ ê²°ê³¼ê°€ ë‚˜ì˜¬ê¹Œ?

í•´ì‹œì»¬ë ‰ì…˜ì€ í•´ì‹œì½”ë“œë¡œ ê°’ì„ íŒë³„í•˜ê¸° ë•Œë¬¸ì— ë‘ ê°ì²´ëŠ” ë‹¤ë¥¸ ê°€ì¹˜ë¥¼ ê°–ëŠ” ê°ì²´ë¼ëŠ” ê²°ê³¼ê°€ ë‚˜ì˜¨ë‹¤.

&nbsp;  

> **ğŸ’¡ í•´ì‹œì½”ë“œ(hashcode) ?**
> 
> í•´ì‹œì½”ë“œëŠ” í•´ë‹¹ ê°ì²´ê°€ ìœ„ì¹˜í•œ ë©”ëª¨ë¦¬ì˜ ì£¼ì†Œ ê°’ì„ ì‚¬ëŒì´ ì•Œì•„ë³´ê¸° ì‰½ê²Œ í‘œì‹œí•´ì¤€ ì •ìˆ˜ ê°’ì´ë‹¤.

&nbsp;  

ì´ëŠ” ì˜ëª»ëœ ê²°ê³¼ì´ë©°, ê°ì²´ê°€ ì»¬ë ‰ì…˜ì—ì„œ ì‚¬ìš©ë˜ë”ë¼ë„ ê° ê°ì²´ì˜ ê°€ì¹˜íŒë‹¨ì€ í•­ìƒ ì •í™•í•´ì•¼ í•œë‹¤.

ê·¸ë ‡ê¸° ë•Œë¬¸ì— `hashCode()` ë¥¼ ë°˜ë“œì‹œ `ì¬ì •ì˜(Override)` í•´ì¤€ë‹¤.



ê·¸ë¦¬ê³  `Object.hashCode()`ëŠ” ë°”ë¡œ ì´ í•´ì‹œì½”ë“œë¥¼ ë°˜í™˜í•˜ëŠ” ë©”ì„œë“œë‹¤.

ì´ ë…€ì„ì„ <u>ê°ì²´ê°€ ê°€ì§€ê³ ìˆëŠ” ì–´ë–¤ ê°’(Value)ì„ ê¸°ì¤€ìœ¼ë¡œ í•´ì‹œì½”ë“œë¥¼ ë°˜í™˜í•˜ê²Œë” ì»¤ìŠ¤í„°ë§ˆì´ì§•</u> í•´ ì¤„ ê²ƒì´ë‹¤.

&nbsp;  

```java
@Override
public int hashCode() {
    return Integer.toString(amount).hashCode();
}
```

```java
public class KRWTest {
    @Test
    public void test() {
        KRW five = new KRW(5);
        KRW five2 = new KRW(5);
        KRW two = new KRW(2);
        System.out.println(five.hashCode() > two.hashCode()); // true
        System.out.println(two.hashCode() > five.hashCode()); // false
        System.out.println(five.hashCode() > five2.hashCode()); // false
        System.out.println(five); // com.springboot.service.KRW@35
        System.out.println(five2); // com.springboot.service.KRW@35
        System.out.println(two); // com.springboot.service.KRW@32
    }
}
```

ì´ì œ `five`ì™€ `five2`ëŠ” ê°™ì€ í•´ì‹œì½”ë“œë¥¼ ë¦¬í„´í•˜ê²Œ ë˜ì—ˆë‹¤.

> í•´ì‹œì½”ë“œ = com.springboot.service.KRW@35

&nbsp;  

ì´ì œ `KRW`ëŠ” ì •í™•í•œ ê°€ì¹˜íŒë‹¨ì„ í•˜ë¯€ë¡œ ê°’ìœ¼ë¡œì„œ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ ëë‹¤.

ì´ë ‡ê²Œ <u>í•´ì‹œì»¬ë ‰ì…˜ì—ì„œëŠ” ë™ë“±ì„± ê²€ì‚¬ë¥¼ ì´ í•´ì‹œì½”ë“œë¥¼ ì´ìš©í•´ì„œ í•˜ê¸° ë•Œë¬¸</u>ì—

<u>equals()ì™€ hashCode()ëŠ” ì¼ë°˜ì ìœ¼ë¡œ í•¨ê»˜ ì¬ì •ì˜</u>í•˜ë©°

ì¸í…”ë¦¬ì œì´ ê°™ì€ IDEì—ì„œë„ ì¬ì •ì˜ë¥¼ ìë™ìœ¼ë¡œ í•´ì£¼ëŠ” ê¸°ëŠ¥ì„ ì´ìš©í•˜ë©´ ëŒ€ë¶€ë¶„ ì´ ë‘ ë©”ì„œë“œê°€ ê°™ì´ ì‘ì„±ëœë‹¤.

&nbsp;  

ì´ ë‚´ìš©ì€ ëª¨ë‘ [ìë°” ë ˆí¼ëŸ°ìŠ¤](http://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html)ì— ëª…ì‹œë˜ì–´ ìˆë‹¤.

&nbsp;  

# ğŸ“œ equals()

---

- <u>It is reflexive: for any non-null reference value x, x.equals(x) should return true.</u>
    - `ë°˜ì‚¬ì„±`: nullì´ ì•„ë‹Œ ëª¨ë“  ì°¸ì¡° ê°’ xì— ëŒ€í•´ x.equals(x) == trueë¥¼ ë§Œì¡±í•´ì•¼í•œë‹¤.

&nbsp;  

- <u>It is symmetric: for any non-null reference values x and y, x.equals(y) should return true if and only if y.equals(x) returns true.</u>
    
    - `ëŒ€ì¹­ì„±`: nullì´ ì•„ë‹Œ ëª¨ë“  ì°¸ì¡° ê°’ x, yì— ëŒ€í•´ x.equals(y) == trueë©´, y.equals(x) == trueë„ ë§Œì¡±í•´ì•¼ í•œë‹¤.

&nbsp;  

- <u>It is transitive: for any non-null reference values x, y, and z, if x.equals(y) returns true and y.equals(z) returns true, then x.equals(z) should return true.</u>
    
    - `ì´í–‰ì„±`: nullì´ ì•„ë‹Œ ëª¨ë“  ì°¸ì¡° ê°’ x, y, zì— ëŒ€í•´ x.equals(y) == trueì´ê³ , y.equals(z) == trueì´ë©´ x.equals(z)ë„ trueì—¬ì•¼ í•œë‹¤.

&nbsp;  

- <u>It is consistent: for any non-null reference values x and y, multiple invocations of x.equals(y) consistently return true or consistently return false, provided no information used in equals comparisons on the objects is modified.</u>
    
    - `ì¼ê´€ì„±`: nullì´ ì•„ë‹Œ ëª¨ë“  ì°¸ì¡° ê°’ x, yì— ëŒ€í•´, x.equals(y)ë¥¼ ë°˜ë³µí•´ì„œ í˜¸ì¶œí•˜ë©´ í•­ìƒ trueë¥¼ ë°˜í™˜í•˜ê±°ë‚˜ í•­ìƒ falseë¥¼ ë°˜í™˜í•œë‹¤.

&nbsp;  

- <u>For any non-null reference value x, x.equals(null) should return false.</u>
    
    - nullì´ ì•„ë‹Œ ëª¨ë“  ì°¸ì¡° ê°’ xì— ëŒ€í•´, x.equals(null)ì€ falseë‹¤. 

&nbsp;  

# ğŸ“œ hashCode()

---

- <u>Whenever it is invoked on the same object more than once during an execution of a Java application, the hashCode method must consistently return the same integer, provided no information used in equals comparisons on the object is modified. This integer need not remain consistent from one execution of an application to another execution of the same application.</u>
    
    - equals ë¹„êµì— ì‚¬ìš©ë˜ëŠ” ì •ë³´ê°€ ë³€ê²½ë˜ì§€ ì•Šì•˜ë‹¤ë©´ ê°ì²´ì˜ hashCode ë©”ì„œë“œëŠ” ëª‡ ë²ˆì„ í˜¸ì¶œí•´ë„ í•­ìƒ ì¼ê´€ëœ ê°’ì„ ë°˜í™˜í•´ì•¼ í•œë‹¤. ë‹¨, Applicationì„ ë‹¤ì‹œ ì‹¤í–‰í•œë‹¤ë©´ ë©”ëª¨ë¦¬ ì£¼ì†Œë˜í•œ ë‹¬ë¼ì§€ê¸° ë•Œë¬¸ì— ê°’ì´ ë‹¬ë¼ì ¸ë„ ìƒê´€ì—†ë‹¤. 

&nbsp;  

- <u>If two objects are equal according to the equals(Object) method, then calling the hashCode method on each of the two objects must produce the same integer result.</u>
    
    - equalsë¥¼ í†µí•´ ë‘ ê°œì˜ ê°ì²´ê°€ ê°™ë‹¤ê³  íŒë‹¨í–ˆë‹¤ë©´ ë‘ ê°ì²´ëŠ” ë˜‘ê°™ì€ í•´ì‹œì½”ë“œë¥¼ ë°˜í™˜í•´ì•¼ í•œë‹¤.

&nbsp;  

- <u>It is not required that if two objects are unequal according to the equals(java.lang.Object) method, then calling the hashCode method on each of the two objects must produce distinct integer results. However, the programmer should be aware that producing distinct integer results for unequal objects may improve the performance of hash tables.</u>
    
    - equalsê°€ ë‘ ê°œì˜ ê°ì²´ë¥¼ ë‹¤ë¥´ë‹¤ê³  íŒë‹¨í–ˆë‹¤ í•˜ë”ë¼ë„ ë‘ ê°ì²´ì˜ í•´ì‹œì½”ë“œê°€ ë°˜ë“œì‹œ ì„œë¡œ ë‹¤ë¥¸ ê°’ì„ ê°€ì§ˆ í•„ìš”ëŠ” ì—†ë‹¤. ì´ëŠ” í•´ì‹œ ì•Œê³ ë¦¬ì¦˜ì— ì˜í•œ íŠ¹ì„±ì´ë‹¤. í•˜ì§€ë§Œ ê°€ê¸‰ì ì´ë©´ ì„œë¡œ ë‹¤ë¥¸ ê°ì²´ë¼ë©´ ë‹¤ë¥¸ í•´ì‹œì½”ë“œë¥¼ ë°˜í™˜í•´ì•¼ í•´ì‹œ í…Œì´ë¸”ì˜ ì„±ëŠ¥ì´ ì¢‹ì•„ì§„ë‹¤.

&nbsp;  
