---
layout: post
category:
  - cs
  - information-system
date: 2020-09-23 14:07
title: 라우팅과 트래픽 제어
description: >
  <u>교과서 기초 개념 정리</u>  
image: /assets/img/cs/cs-logo.jpg
accent_image:
  background: url('/assets/img/cs/cs-logo.jpg') center/cover
related_posts:
  - 
---

* toc
{:toc}

&nbsp;  

# 라우팅(Routing, 경로제어)

---

- 데이터 패킷을 목적지까지 전송하기 위해 경로를 설정해주는 방법
- IP 주소의 목적지 주소를 확인하여 해당 목적지까지의 최적의 경로를 지정
- 라우팅 정보를 가진 라우터는 다른 라우터들과 주기적으로 교환함으로써 목적지까지 데이터 패킷을 전송
- 라우터는 모든 경로에 대한 정보를 `라우팅 테이블(Routing Table, 경로 제어 표)`에 저장 및 관리

> 경로 제어 요소
>
> 성능 기준 / 경로의 결정 시간과 장소 / 정보 발생지 / 경로 정보의 갱신시간

&nbsp;  

# 라우팅 테이블 (Routing Table)

---

- 라우터가 목적지 네트워크에 도달하기 위한 경로를 저장해 놓은 공간
- 데이터 전송 위한 게이트웨이에 대한 정보 보관
- 운영체제나 장비에 관계없이 테이블 형식은 같고, 표현방법에 차이는 존재

&nbsp;  

# 라우팅 프로토콜(Routing Protocol)

---

- 패킷을 목적지까지 전송하기 위해 라우터 경로 설정하고 제어
- 내부 게이트웨이 프로토콜(IGP) - 하나의 자율 시스템(AS)에서 라우팅 프로토콜이 이뤄짐

> IGP의 종류
>
> RIP / OSPF

- 외부 게이트웨이 프로토콜(EGP) - 자율 시스템 간의 라우팅

&nbsp;  

# RIP(Round Information Protocol)

---

- 라우터 홉 수에 따라 최단거리를 결정하는 프로토콜
- 구조가 간단하여 라우터 프로세서에 부담 없음
- <u>홉 수가 최대 15이므로 대규모 네트워크에는 부적합</u>
- 라우팅 정보 수명이 짧아서 외부 라우터와 일정 시간 이상 교신이 끊기면 라우팅 정보를 삭제
- 전체 라우팅 테이블을 가장 가까운 호스트에 매 30초마다 전송
- 내부용 프로토콜
- 회선 속도 고려하지 않고 홉 수로만 경로를 설정하여 때에 따라 비효율적인 경로 설정이 이뤄질 수 있음

&nbsp;  

# OSPF(Open Shortest Path First Protocol)

---

- 네트워크에 변화가 있을 때만 정보교환이 일어나며, 멀티캐스트(Multicast) 기법으로 작동
- 라우터 사이의 연결 속도를 중심으로 라우팅
- 자율시스템(AS)에서 사용하기 위해 설계되어 라우터끼리 그룹을 가져 그 그룹끼리만 라우팅
- 사용자에 의한 경로 지정과 복수 경로에 지정이 가능
- 라우팅 알고리즘이 복잡하여 라우터에 부담

&nbsp;  

# BGP(Border Gateway Protocol)

---

- TCP 포트를 이용하므로 신뢰할 수 있는 연결 지향적인 특징 가짐
- <u>거리 벡터 라우팅(Path Vector)을 수행하며, 루프가 발생하지 않음</u>
- AS가 다른 여러 AS와 연결이 되어 있는 경우에 사용

> 자율 시스템(AS, Autonomous System)
> 
> - 동일한 내부 라우팅과 보안 정책을 사용하고 있는 망들의 집합을 의미
> - AS의 관리자는 자신의 AS에 대해 독자적으로 필요한 변경 및 유지보수 작업을 수행

&nbsp;  

# 트래픽 제어(Traffic Control)

---

## 흐름 제어(Flow Control)

- 송신 측과 수신 측의 데이터 처리 속도 차이를 해결하기 위한 기법
- 종류
    - `정지-대기(Stop-and-Wait)` - 수신 측의 `확인 신호(ACK)`를 받은 후에 다음 패킷을 전송하는 것으로 한 번에 하나의 패킷만 전송할 수 있다.
    - `슬라이딩 윈도우 기법` - 수신 측에서 설정한 윈도우 크기만큼 송신 측에서 확인 응답 없이 세그먼트를 전송할 수 있게하여 데이터 흐름을 동적으로 제어하는 기법

> ***📜 윈도우 크기***
> 
> TCP 송신 윈도우 크기는 수신측에서 이전에 송신한 패킷에 대한  
> 긍정응답(ACK)이 전달되면 크기는 커지고, 그 반대인 경우는 윈도우 크기가 감소한다

&nbsp;  

## 혼잡 제어(Congestion Control)

---

- 네트워크 내에 패킷의 수가 과도하게 증가하는 현상을 혼잡(Congestion)이라고 하며 혼잡 현상을 방지하거나 제거하는 기능을 의미
- 기법
    - `Slow Start` - 처음에는 패킷을 1개씩 전송하고, 패킷이 문제없이 도착하면 각각의 ACK 패킷마다 창 크기를 1씩 늘린다. 즉, 한 주기가 지나면 창 크기가 2배로 된다. 따라서 전송 1,2,4,8,16과 같이 창의 크기가 증가함. 대신 혼잡 현상이 발생하면 창 크기를 1로 떨어뜨린다.
    - `혼잡 회피(Congestion Avoidance)` - Slow Start의 지수적 증가가 임계 값에 도달하게 되면 혼잡으로 간주하고 회피를 위해 윈도우 크기를 1씩 선형적으로 증가시켜 혼잡을 예방하는 기법

&nbsp;  

## LAN 표준

---

|표준|설명|
|:---:|:---:|
|IEEE 802.1|상위 계층과의 인터페이스 규정|
|IEEE 802.2|LLC(Logical Link Control) 계층|
|IEEE 802.3|CSMA/CD 방식|
|IEEE 802.4|Token 버스 방식|
|IEEE 802.5|Token 링 방식|
|IEEE 802.6|DQDB(Distribute Queue Dual Bus) MAN|
|IEEE 802.7|브로드밴드(BroadBand)|
|IEEE 802.8|광통신 자문그룹|
|IEEE 802.9|IVD(Intergrated Voice & Data) LAN|
|IEEE 802.10|LAN 보안|
|IEEE 802.11b|무선 랜|

&nbsp;  