---
layout: post
category:
    - debugging
date: 2021-01-10 20:11
title: ORA-01033 ORACLEì˜ ì´ˆê¸°í™” ë˜ëŠ” ì •ì§€ ì²˜ë¦¬ê°€ ì§„í–‰ì¤‘ì…ë‹ˆë‹¤
description: >
    Oracle DB ë¹„ì •ìƒ ì¢…ë£Œë¡œ ì¸í•œ ì´ìŠˆ
image: /assets/img/debugging/debugging.jpg
accent_image:
    background: url('/assets/img/debugging/debugging.jpg') center/cover
---

* toc
{:toc}

&nbsp;  

ì²˜ìŒ ì œì‘í•˜ëŠ” ì‡¼í•‘ëª° í”„ë¡œì íŠ¸ê°€ ë§ˆë¬´ë¦¬ ë‹¨ê³„ì˜€ë‹¤.

ì—¬ëŠ ë‚ ê³¼ ë‹¤ë¦„ì—†ì´ WASë¥¼ ê¸°ë™í•˜ëŠ”ë°,

ëœ¬ê¸ˆì—†ì´ `ORA-01033`ë¼ëŠ” `SQLException`ì„ ë±‰ì–´ëŒ€ë©´ì„œ ì—´ë¦¬ì§ˆ ì•ŠëŠ”ë‹¤.

&nbsp;  

![](/assets/img/common/bee-3.png)

&nbsp;  

?? ë‚´ì‹¬ ë‹¹í™©í–ˆì§€ë§Œ ìì„¸ë¥¼ ê°€ë‹¤ë“¬ê³  ë¬¸ì œ í•´ê²°ì— ë“¤ì–´ê°”ë‹¤.

1. Git Commit ì‚¬í•­ í™•ì¸ -> ì•„ë¬´ ë¬¸ì œì—†ìŒ í™•ì¸
2. êµ¬ê¸€ì— `ORA-01033`ì„ ê²€ìƒ‰ -> `REDO.LOG` íŒŒì¼ì´ ì†ìƒë  ë•Œ ë°œìƒí•˜ëŠ” ë¬¸ì œë€ë‹¤.

?? ì™  ëœ¬ê¸ˆì—†ì´ LogíŒŒì¼ ì†ìƒì´ëƒ í•˜ê³  ê³°ê³°ì´ ìƒê°ì„ í•´ë³´ë‹ˆ,

ì–´ë¨¸ë‹ˆê°€ ì½˜ì„¼íŠ¸ë¥¼ ì˜ëª» ê±´ë“œë¦¬ì…”ì„œ ì„œë²„ê°€ ëŒì•„ê°€ë˜ ì¤‘ ì»´í“¨í„°ê°€ ê°•ì œ ì¢…ë£Œëë˜ ê²Œ ì‚´ì§ ê±¸ë ¸ë‹¤.

***"ì•„ë‹ˆ ì´ëŸ° ê±¸ë¡œ DBê°€ ë¨¹í†µì´ ëœë‹¤ê³ ?"***ë¼ëŠ” ìƒê°ì„ í–ˆëŠ”ë°

ì•„ë¬´ë¦¬ ë¶™ì¡ê³  ê³ ë¯¼í•´ë„ ìµœì†Œí•œì´ë‚˜ë§ˆ ì˜ì‹¬ ê°€ëŠ” ê²Œ ì´ê±°ë°–ì— ì—†ì—ˆë‹¤.

ì•„ì˜ˆ DBì—ì„œ System ê´€ë¦¬ì ê³„ì •ìœ¼ë¡œ ì ‘ì†ì´ ë¶ˆê°€ëŠ¥í•œ ìƒí™©ì´ì—ˆë‹¤.

ê·¸ë˜ì„œ ìš°ì„  `sqlplus`ë¡œ ì ‘ì†í•˜ì—¬ DB ë³µêµ¬ë¥¼ ì‹œë„í•´ë³´ì•˜ë‹¤.

```oraclesqlplus
  Microsoft Windows [Version 10.0.19041.685]
  (c) 2020 Microsoft Corporation. All rights reserved.

  C:\Users\Han>sqlplus "/as sysdba"

  SQL*Plus: Release 12.2.0.1.0 Production on ì¼ 1ì›” 10 19:00:29 2021

  Copyright (c) 1982, 2016, Oracle.  All rights reserved.


  ë‹¤ìŒì— ì ‘ì†ë¨:
  Oracle Database 12c Enterprise Edition Release 12.2.0.1.0 - 64bit Production

  SQL> recover database;
  ORA-00283: ë³µêµ¬ ì„¸ì…˜ì´ ì˜¤ë¥˜ë¡œ ì¸í•˜ì—¬ ì·¨ì†Œë˜ì—ˆìŠµë‹ˆë‹¤
  ORA-00742: ë¡œê·¸ ì½ê¸° ì¤‘ ìŠ¤ë ˆë“œ 1 ì‹œí€€ìŠ¤ 98 ë¸”ë¡ 110711ì—ì„œ ì†ì‹¤ëœ ì“°ê¸°ë¥¼
  ê°ì§€í–ˆìŠµë‹ˆë‹¤.
  ORA-00312: ì˜¨ë¼ì¸ ë¡œê·¸ 2 ìŠ¤ë ˆë“œ 1: 'D:\ORACLE\ORADATA\ORCL\REDO02.LOG'

  SQL> recover database until time '2021-01-09 18:30:00';
  ORA-01547: ê²½ê³ : RECOVERì€ ì„±ê³µí–ˆì§€ë§Œ OPEN RESETLOGSì— ì•„ë˜ì™€ ê°™ì€ ì˜¤ë¥˜ê°€
  ìƒê¸¸ìˆ˜ ë„ ìˆìŠµë‹ˆë‹¤
  ORA-01194: 1 íŒŒì¼ì´ ì¼ê´€ì„±ì„ ê°–ê¸° ìœ„í•´ì„œëŠ” ë” ë§ì€ ë³µêµ¬ê°€ í•„ìš”ë¡œ í•©ë‹ˆë‹¤
  ORA-01110: 1 ë°ì´í„° íŒŒì¼: 'D:\ORACLE\ORADATA\ORCL\SYSTEM01.DBF'
```

![](/assets/img/common/bee-3.png)

ì–´ì œ ì˜¤í›„ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ë³µêµ¬ë¥¼ í•´ë´¤ëŠ”ë° ë¨¹íˆì§ˆì•ŠëŠ”ë‹¤.

ì–´ì°¨í”¼ ê°„ë‹¨í•œ ì‡¼í•‘ëª° í”„ë¡œì íŠ¸ê² ë‹¤, ë”ë¯¸ë°ì´í„° DMLë„ ë§Œë“¤ì–´ì„œ ë°±ì—…í•´ë‘” ê²ƒì´ ìˆì–´ì„œ ë°ì´í„° ì†ì‹¤ë¡œ ì¸í•œ ë¦¬ìŠ¤í¬ëŠ” ì—†ëŠ” ìƒíƒœë¼ ë´ë„ ë¬´ë°©í•˜ì—¬ ë°ì´í„° íŒŒì¼ì„ ëª¨ë‘ ë‚ ë ¤ë²„ë¦¬ê³  ì„œë²„ë¥¼ ì¬ë¶€íŒ…í•´ë³´ìê³  ìƒê°í–ˆë‹¤.

ë‹¹ì—°íˆ ë°ì´í„° íŒŒì¼ì€ ëª¨ë‘ ë°±ì—…í•´ë‘ì—ˆë‹¤.

```oraclesqlplus
  SQL> shutdown immediate
  ORA-01109: ë°ì´í„°ë² ì´ìŠ¤ê°€ ê°œë°©ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤


  ë°ì´í„°ë² ì´ìŠ¤ê°€ ë§ˆìš´íŠ¸ í•´ì œë˜ì—ˆìŠµë‹ˆë‹¤.
  ORACLE ì¸ìŠ¤í„´ìŠ¤ê°€ ì¢…ë£Œë˜ì—ˆìŠµë‹ˆë‹¤.
  SQL> startup
  ORACLE ì¸ìŠ¤í„´ìŠ¤ê°€ ì‹œì‘ë˜ì—ˆìŠµë‹ˆë‹¤.
```

![](/assets/img/common/pepe-1.jpg)

&nbsp;  

.
.
.
.
.
.
.
.
.
.
.

&nbsp;  

```oraclesqlplus
  Total System Global Area 1.0301E+10 bytes
  Fixed Size                 12468536 bytes
  Variable Size            1912606408 bytes
  Database Buffers         8355053568 bytes
  Redo Buffers               21082112 bytes
  ë°ì´í„°ë² ì´ìŠ¤ê°€ ë§ˆìš´íŠ¸ë˜ì—ˆìŠµë‹ˆë‹¤.
  ORA-01589: ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ì—´ê¸° ìœ„í•´ì„œëŠ” RESETLOGS/NORESETLOGS ì˜µì…˜ì„ ì‚¬ìš©í•´ì•¼í•¨

  SQL> alter database open resetlogs;
  alter database open resetlogs
  *
  1í–‰ì— ì˜¤ë¥˜:
  ORA-01194: 1 íŒŒì¼ì´ ì¼ê´€ì„±ì„ ê°–ê¸° ìœ„í•´ì„œëŠ” ë” ë§ì€ ë³µêµ¬ê°€ í•„ìš”ë¡œ í•©ë‹ˆë‹¤
  ORA-01110: 1 ë°ì´í„° íŒŒì¼: 'D:\ORACLE\ORADATA\ORCL\SYSTEM01.DBF'
```

![](https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2Fbj701M%2FbtqS9ZAAIVU%2FlG6lwKqkwfcFg8SR4CV2QK%2Fimg.jpg)

í˜ˆì•ˆì´ ë¼ì„œ `StackOverflow`ë¥¼ ë’¤ì ¸ ë³´ë‹ˆ ë”°ë¡œ ë³µêµ¬ íˆ´ ì‚¬ìš©ë²•ì´ ìˆê¸¸ë˜ í˜¹ì‹œë‚˜ í•´ì„œ ë”°ë¼ í•´ ë³´ì•˜ë‹¤

```oraclesqlplus
  Microsoft Windows [Version 10.0.19041.685]
  (c) 2020 Microsoft Corporation. All rights reserved.

  C:\Users\Han>rman target/

  ë³µêµ¬ ê´€ë¦¬ì: Release 12.2.0.1.0 - Production on ì¼ 1ì›” 10 20:05:39 2021

  Copyright (c) 1982, 2017, Oracle and/or its affiliates.  All rights reserved.

  ëŒ€ìƒ ë°ì´í„°ë² ì´ìŠ¤ì— ì ‘ì†ë¨: ORCL(DBID=1580994622, ì—´ë¦¬ì§€ ì•ŠìŒ)

  RMAN> recover database;

  21/01/10ì—ì„œ recoverì„(ë¥¼) ì‹œì‘í•˜ëŠ” ì¤‘ì…ë‹ˆë‹¤.
  ë³µêµ¬ ì¹´íƒˆë¡œê·¸ ëŒ€ì‹  ëŒ€ìƒ ë°ì´í„°ë² ì´ìŠ¤ ì œì–´ íŒŒì¼ì„ ì‚¬ìš©í•˜ê³  ìˆìŠµë‹ˆë‹¤.
  ì±„ë„ì„ í• ë‹¹í–ˆìŠµë‹ˆë‹¤: ORA_DISK_1
  ì±„ë„ ORA_DISK_1: SID=251 ì¥ì¹˜ ìœ í˜•=DISK

  ë¯¸ë””ì–´ ë³µêµ¬ë¥¼ ì‹œì‘í•©ë‹ˆë‹¤

  1 ìŠ¤ë ˆë“œ, 98 ì‹œí€€ìŠ¤ì— ëŒ€í•œ ì•„ì¹´ì´ë¸Œëœ ë¡œê·¸ëŠ” ì´ë¯¸ ë””ìŠ¤í¬ì— D:\ORACLE\ORADATA\ORCL\REDO02.LOG íŒŒì¼ë¡œ ì¡´ì¬í•©ë‹ˆë‹¤.
  ì•„ì¹´ì´ë¸Œëœ ë¡œê·¸ íŒŒì¼ ì´ë¦„=D:\ORACLE\ORADATA\ORCL\REDO02.LOG ìŠ¤ë ˆë“œ=1 ì‹œí€€ìŠ¤=98
  Oracle ì˜¤ë¥˜:
  ORA-01547: ê²½ê³ : RECOVERì€ ì„±ê³µí–ˆì§€ë§Œ OPEN RESETLOGSì— ì•„ë˜ì™€ ê°™ì€ ì˜¤ë¥˜ê°€ ìƒê¸¸ìˆ˜ ë„ ìˆìŠµë‹ˆë‹¤
  ORA-01245: ì˜¤í”„ë¼ì¸ íŒŒì¼ 1 ì€ RESETLOGSì´ ëë‚˜ë©´ ì—†ì–´ì§‘ë‹ˆë‹¤
  ORA-01110: 1 ë°ì´í„° íŒŒì¼: 'D:\ORACLE\ORADATA\ORCL\SYSTEM01.DBF'

  ë§¤ì²´ ë³µêµ¬ ì™„ë£Œ, ê²½ê³¼ ì‹œê°„: 00:00:08
  21/01/10ì—ì„œ recoverì„(ë¥¼) ì¢…ë£Œí–ˆìŠµë‹ˆë‹¤.

  RMAN> exit

  ë³µêµ¬ ë§¤ë‹ˆì €ê°€ ì™„ì„±ë˜ì—ˆìŠµë‹ˆë‹¤.

  C:\Users\Han>sqlplus "/as sysdba"

  SQL*Plus: Release 12.2.0.1.0 Production on ì¼ 1ì›” 10 20:07:34 2021

  Copyright (c) 1982, 2016, Oracle.  All rights reserved.


  ë‹¤ìŒì— ì ‘ì†ë¨:
  Oracle Database 12c Enterprise Edition Release 12.2.0.1.0 - 64bit Production

  SQL> alter database open resetlogs;

  ë°ì´íƒ€ë² ì´ìŠ¤ê°€ ë³€ê²½ë˜ì—ˆìŠµë‹ˆë‹¤.
```

![](https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2FH2VpD%2FbtqS3ba04ly%2Fni7sFLckgT42MxAK2hylf1%2Fimg.png)

![](/assets/img/common/bee-2.png)

&nbsp;  

í•´ê²°ëœê±´ ì¢‹ì€ë° ë°ì´í„°ë² ì´ìŠ¤ëŠ” ì •ë§ ë„ˆë¬´ ì–´ë µë‹¤ ğŸ˜­

&nbsp;  