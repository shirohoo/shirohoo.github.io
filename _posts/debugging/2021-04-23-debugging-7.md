---
layout: post
category:
    - debugging
date: 2021-04-23 22:56
title: FileNotFoundException cannot be resolved to absolute ...
description: >
    FileNotFoundException \: cannot be resolved to absolute file path
    because it does not reside in the file system
image: /assets/img/debugging/debugging.jpg
accent_image:
    background: url('/assets/img/debugging/debugging.jpg') center/cover
---

* toc
{:toc}
  
&nbsp;  

# **â— ì¦ìƒ**

---

ì¶œí‡´ê·¼ê¸¸ ì§€í•˜ì² ì—ì„œ ì‚¬ìš©í•  í† ì´ í”„ë¡œì íŠ¸ë¥¼ ê°œë°œí•˜ë‹¤ ë°œìƒí•œ ë¬¸ì œë‹¤.

ì´ ë¬¸ì œëŠ” Gradleì„ ì‚¬ìš©í•´ í”„ë¡œì íŠ¸ë¥¼ jarë¡œ ë¹Œë“œí•˜ê³  jarí™˜ê²½ì—ì„œ ì‹¤í–‰í•˜ë©° ë‚˜íƒ€ë‚¬ë‹¤.

if-elseë¥¼ ì œê±°í•˜ê¸° ìœ„í•´ `resource` í´ë” í•˜ìœ„ì— json í˜•ì‹ì˜ í”„ë¡œí¼í‹° íŒŒì¼ì„ ì‘ì„±í•´ì„œ í•´ê²°í–ˆëŠ”ë°,

ë°°í¬í•˜ê³  ë³´ë‹ˆ ë¡œê·¸ì— ê³„ì† ì˜ˆì™¸ê°€ ëœ¨ëŠ” ê±¸ í™•ì¸í–ˆë‹¤.

```shell
java.io.FileNotFoundException: class path resource [static/properties/propertiesFactory.json] cannot be resolved to absolute file path because it does not reside in the file system: jar:file:/home/ubuntu/SubscribeTechBlogs-1.0.jar!/BOOT-INF/classes!/static/properties/propertiesFactory.json
        at org.springframework.util.ResourceUtils.getFile(ResourceUtils.java:217)
        at org.springframework.core.io.AbstractFileResolvingResource.getFile(AbstractFileResolvingResource.java:154)
        at toy.subscribe.parser.JsonReader.readUrls(JsonReader.java:16)
        at toy.subscribe.service.impl.CollectPostServiceImpl.loopCrawl(CollectPostServiceImpl.java:32)
        at toy.subscribe.service.impl.CollectPostServiceImpl.getAllGroupFeed(CollectPostServiceImpl.java:28)
        at toy.subscribe.service.impl.CollectPostServiceImpl$$FastClassBySpringCGLIB$$dc747bec.invoke(<generated>)
        at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
        at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:779)
        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
        at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
        at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
        at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
        at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
        at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
        at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:692)
        at toy.subscribe.service.impl.CollectPostServiceImpl$$EnhancerBySpringCGLIB$$3d4d0c29.getAllGroupFeed(<generated>)
        at toy.subscribe.scheduler.RSSScheduler.collect(RSSScheduler.java:21)
        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
        at java.base/java.lang.reflect.Method.invoke(Method.java:566)
        at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
        at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
        at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
        at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305)
        at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
        at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
        at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
        at java.base/java.lang.Thread.run(Thread.java:834)

```

ë¡œì»¬ì—ì„œëŠ” ì•„ë¬´ëŸ° ë¬¸ì œê°€ ì—†ì—ˆë‹¤.

```java
public class JsonReader {

    public static List<String> readUrls() throws Exception {
        File file = ResourceUtils.getFile("classpath:properties/propertiesFactory.json");
        FileReader reader = new FileReader(file);
        JSONParser parser = new JSONParser();
        JSONObject jsonObj = (JSONObject) parser.parse(reader);

        return (ArrayList<String>) jsonObj.get("urls");
    }
}
```

ë³´ë‹¤ì‹œí”¼ `classpath:`ë¥¼ ì´ìš©í•´ resource í•˜ìœ„ í´ë”ì—ì„œ json íŒŒì¼ì„ ì½ì–´ì˜¤ê³  ìˆë‹¤.

## **âœ… í•´ê²°**

---

íŒŒì¼ì„ ì°¾ì§€ ëª»í•œë‹¤ë‹ˆ ì˜ì•„í–ˆì§€ë§Œ(ë¡œì»¬ì—ì„  ì˜ëìœ¼ë‹ˆê¹Œ.. ğŸ¤”) 

ìš°ì„  ê²½ë¡œë¥¼ ì ê²€í•´ë´¤ë‹¤.

```shell
jar -tf íŒŒì¼ëª… // jar ë‚´ë¶€ì˜ ë‚´ìš©ì„ í™•ì¸í•˜ëŠ” ëª…ë ¹ì–´
```

```text
BOOT-INF/classes/static/images/favicon.ico
BOOT-INF/classes/static/images/github.jpg
BOOT-INF/classes/static/images/blog.png
BOOT-INF/classes/static/images/yanolja.png
BOOT-INF/classes/static/images/woowabros.png
BOOT-INF/classes/static/images/toss.png
BOOT-INF/classes/static/images/line.png
BOOT-INF/classes/static/css/
BOOT-INF/classes/static/css/style.css
BOOT-INF/lib/
BOOT-INF/lib/querydsl-apt-4.1.4.jar
BOOT-INF/lib/poi-ooxml-5.0.0.jar
BOOT-INF/lib/poi-5.0.0.jar
BOOT-INF/lib/querydsl-jpa-4.4.0.jar
BOOT-INF/lib/json-simple-1.1.1.jar
BOOT-INF/lib/mysql-connector-java-8.0.23.jar
BOOT-INF/lib/querydsl-codegen-4.1.4.jar
BOOT-INF/lib/jdo-api-3.0.1.jar
BOOT-INF/lib/spring-boot-autoconfigure-2.4.3.jar
BOOT-INF/lib/spring-boot-2.4.3.jar
BOOT-INF/lib/jakarta.transaction-api-1.3.3.jar
BOOT-INF/lib/jakarta.persistence-api-2.2.3.jar
BOOT-INF/lib/hibernate-core-5.4.28.Final.jar
BOOT-INF/lib/spring-data-jpa-2.4.5.jar
BOOT-INF/lib/spring-aspects-5.3.4.jar
BOOT-INF/lib/thymeleaf-spring5-3.0.12.RELEASE.jar
BOOT-INF/lib/thymeleaf-extras-java8time-3.0.4.RELEASE.jar
BOOT-INF/lib/jakarta.el-3.0.3.jar
BOOT-INF/lib/hibernate-validator-6.1.7.Final.jar
BOOT-INF/lib/spring-webmvc-5.3.4.jar

```

jarë¡œ ë¹Œë“œí•˜ê²Œë˜ë©´ ë³´ë‹¤ì‹œí”¼ ë‚´ë¶€ì˜ ê²½ë¡œê°€ ë°”ë€Œë¯€ë¡œ

ê¸°ì¡´ì˜ ì½”ë“œë¡œëŠ” ì½ì§€ ëª»í•˜ê²Œ ë˜ì–´ `FileNotFoundException` ì˜ˆì™¸ê°€ ë°œìƒí•˜ê²Œ ëë‹¤.

ì´ë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ íŒŒì¼ì„ ì½ì–´ì˜¤ëŠ” ì‘ì—…ì„ `ClassLoader`ì— ìœ„ì„í•´ì•¼ í–ˆë‹¤.

ë”°ë¼ì„œ ë‚´ë¶€ json íŒŒì¼ì— `InputStream`ì„ ì—´ê³  

`InputStream`ì„ í™œìš©í•´ File ê°ì²´ë¥¼ ìƒì„±í•œ í›„ ì‚¬ìš©í–ˆë‹¤.

```java
public class JsonReader {

    public static List<String> readUrls() throws Exception {
        FileReader reader = new FileReader(createInputStreamToFile());
        JSONParser parser = new JSONParser();
        JSONObject jsonObj = (JSONObject) parser.parse(reader);

        return (ArrayList<String>) jsonObj.get("urls");
    }

    private static File createInputStreamToFile() throws IOException {
        InputStream inputStream = new ClassPathResource("static/properties/propertiesFactory.json").getInputStream();
        File file = File.createTempFile("propertiesFactory", ".json");
        try {
            FileUtils.copyInputStreamToFile(inputStream, file);
        }
        finally {
            IOUtils.closeQuietly(inputStream);
        }
        return file;
    }

}
```

&nbsp;  

ë¹„íš¨ìœ¨ì ì¸ ê²ƒ ê°™ì§€ë§Œ ì–´ì©Œê² ë‚˜.. ì¼ë‹¨ ëŒë¦¬ê³  ë´ì•¼ì§€ ğŸ˜¢