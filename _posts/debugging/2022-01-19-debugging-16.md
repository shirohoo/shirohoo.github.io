---
layout: post
category:
    - debugging
title: double-quote to start field name
description: >
    Unexpected character ... was expecting double-quote to start field name
image: /assets/img/debugging/debugging.jpg
accent_image:
    background: url('/assets/img/debugging/debugging.jpg') center/cover
related_posts:
    -
---

* toc
{:toc}
  
<br />

# ğŸš¨ ë¬¸ì œ

---

íšŒì‚¬ ê²°ì œ ì„œë¹„ìŠ¤ì—ì„œ íŒŒíŠ¸ë„ˆì‚¬ì˜ APIë¥¼ ì—°ë™í•˜ëŠ” ì—…ë¬´ë¥¼ ì§„í–‰í•˜ë˜ ì¤‘ ë°œìƒí–ˆë‹¤.

ëŒ€ëµ ì•„ë˜ì™€ ê°™ì€ ì˜ˆì™¸ ë©”ì‹œì§€ì˜€ë‹¤.

<br />

```shell
org.codehaus.jackson.JsonParseException: 
   Unexpected character ('n' (code 110)): was expecting double-quote to start field name
   at [Source: java.io.StringReader@7c87c24a; line: 1, column: 3]
```

<br />

# ğŸš§ ì›ì¸

---

JSON í•„ë“œ ë„¤ì„ì— ìŒë”°ì˜´í‘œë¥¼ ì˜ˆìƒí–ˆë‹¤ëŠ” ì˜ˆì™¸ ë©”ì‹œì§€ë¥¼ ë³´ê³  íŒŒíŠ¸ë„ˆì‚¬ APIì˜ ì‘ë‹µ í˜ì´ë¡œë“œë¥¼ í™•ì¸í•´ë´¤ë‹¤.

JSON ì‘ë‹µ í•„ë“œì— í™€ë”°ì˜´í‘œê°€ ì‚¬ìš©ë˜ê³  ìˆì—ˆë‹¤.

ê·¼ë°, ë‚˜ëŠ” JSON í•„ë“œë¥¼ ìŒë”°ì˜´í‘œë¡œ ì“°ê¸´ í•˜ì§€ë§Œ í™€ë”°ì˜´í‘œë¡œ ì‚¬ìš©ë˜ëŠ”ê²ƒë„ ëª‡ ë²ˆ ë´¤ë˜ ê¸°ì–µì´ ìˆì–´ì„œ ë‹¹ì—°íˆ ë˜ëŠ”ê±´ì¤„ ì•Œê³  ìˆì—ˆê¸° ë•Œë¬¸ì— ì´ ìƒí™©ì´ ì˜ ì´í•´ê°€ ì•ˆëì—ˆë‹¤.

ê·¸ë˜ì„œ ì²˜ìŒìœ¼ë¡œ [JSON ê³µì‹ í™ˆí˜ì´ì§€](https://www.json.org/json-en.html){:target="_blank"} ì— ë“¤ì–´ê°€ì„œ ìŠ¤í™ì„ í™•ì¸í•´ë´¤ë‹¤.

> A value can be a string in double quotes, or a number, or true or false or null, or an object or an array. These structures can be nested.

JSON ìŠ¤í™ìƒìœ¼ë¡œ í™€ë”°ì˜´í‘œê°€ ì•„ë‹Œ ìŒë”°ì˜´í‘œë¡¤ ì¨ì•¼ í•œë‹¤ê³  ë‚˜ì™€ìˆì—ˆë‹¤.

ì¦‰, í™€ë”°ì˜´í‘œëŠ” ë¹„í‘œì¤€ì´ë‹¤.

<br />

í•˜ì§€ë§Œ, ë‹¤ë¥¸ í”„ë¡œì íŠ¸ì—ì„œëŠ” JSON íŒŒì„œê°€ í™€ë”°ì˜´í‘œë¡œ ë¬¸ì œì—†ì´ ì²˜ë¦¬í•´ë‚´ë˜ ê¸°ì–µì´ ë‚˜ì„œ í˜¸ê¸°ì‹¬ì— ì´ ë¶€ë¶„ë„ í•œë²ˆ ì°¾ì•„ë³´ì•˜ë‹¤. (êµ³ì´ ì°¾ì•„ë³´ì§€ ì•Šì•„ë„ ëŒ€ëµ ì§ì‘ì€ ê°”ì§€ë§Œ...)

ë‚´ê°€ ì‚¬ìš©í•˜ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬ëŠ” `Jackson`ì´ë©°, `ObjectMapper`ë¥¼ ì£¼ë¡œ ì‚¬ìš©í•œë‹¤.

[ğŸ“œ jackson.core.JsonParser.Feature.ALLOW_SINGLE_QUOTES](https://fasterxml.github.io/jackson-core/javadoc/2.7/com/fasterxml/jackson/core/JsonParser.Feature.html#ALLOW_SINGLE_QUOTES)

<br />

> Feature that determines whether parser will allow use of single quotes (apostrophe, character '\'') for quoting Strings (names and String values). If so, this is in addition to other acceptable markers. but not by JSON specification).
> 
> Since JSON specification requires use of double quotes for field names, this is a non-standard feature, and as such disabled by default.

<br />

ì—­ì‹œë‚˜ ê´€ë ¨ ë‚´ìš©ì´ ìˆì—ˆë‹¤. 

í•´ë‹¹ ì‚¬í•­ì€ í‘œì¤€ì´ ì•„ë‹ˆê¸° ë•Œë¬¸ì— ë•Œë¬¸ì— ê¸°ë³¸ì ìœ¼ë¡œ ë¹„í™œì„±í™” í•´ë‘ì—ˆë‹¤ê³  ëª…ì‹œë¼ìˆì—ˆë‹¤.

ì•„ë§ˆ JSON ìœ¼ë¡œ ë°ì´í„°ë¥¼ ì£¼ê³ ë°›ì„ ë•Œ í™€ë”°ì˜´í‘œë¥¼ ì‚¬ìš©í•˜ë©´ ì´ë¥¼ ëª¨ë‘ ìŒë”°ì˜´í‘œë¡œ ë³€í™˜í•˜ëŠ” ì‘ì—…ì´ ìˆ˜ë°˜ë í…ë°, ì´ë¥¼ ëª¨ë‘ ì •ê·œì‹ìœ¼ë¡œ ì²˜ë¦¬í•˜ê¸° ë•Œë¬¸ìœ¼ë¡œ ì˜ì‹¬ì´ ê°”ë‹¤.

ì£¼ê³  ë°›ëŠ” ë°ì´í„°ì˜ ê·œëª¨ê°€ í¬ë‹¤ë©´ ì´ëŠ” ë¶ˆí•„ìš”í•œ ì‘ì—…ì´ë©´ì„œë„(ì• ì´ˆì— í‘œì¤€ì„ ì§€ì¼°ë‹¤ë©´ í•„ìš”í•˜ì§€ ì•Šì€ ë¹„ìš©ì´ê¸° ë•Œë¬¸ì´ë‹¤), ë¬´ì‹œí•˜ê¸° í˜ë“  ë¹„ìš©ì´ ë°œìƒí• ê²ƒì´ê¸° ë•Œë¬¸ì´ë‹¤.

ì¦‰, í‘œì¤€ì„ ì§€ì¼œ ê°œë°œí•˜ë¼ëŠ” ì˜ë¯¸ì´ë©° ì´ëŠ” ë‘ë§í• ë‚˜ìœ„ ì—†ëŠ” ì •ë¡ ì´ë‹¤.

<br />

ì¢…êµ­ì—” í˜¹ì‹œë‚˜ í‘œì¤€ì„ ì§€í‚¤ì§€ ì•ŠëŠ” ìƒí™©ë§ˆì € ê°€ì •í•´ ì´ëŸ¬í•œ ì˜µì…˜ì„ ë„£ì–´ë†“ì€ ê°œë°œìë“¤ì—ê²Œ ê°íƒ„ë§ˆì € ë‚˜ì™”ë‹¤. 

<br />

# âœ… í•´ê²°

---

ìš°ì„  íŒŒíŠ¸ë„ˆì‚¬ì— ì—°ë½í•˜ì—¬ ìœ„ ë‚´ìš©ë“¤ì„ ì„¤ëª…í•¨ê³¼ ë™ì‹œì— í‘œì¤€ì„ ì§€ì¼œ ê°œë°œí•´ë‹¬ë¼ ìš”ì²­í•˜ì˜€ê³ , ì´ ìš”ì²­ì€ ë°›ì•„ë“¤ì—¬ì¡Œë‹¤.

í•˜ì§€ë§Œ ë‹¤ë¥¸ APIë„ í™€ë”°ì˜´í‘œë¥¼ ì‚¬ìš©í•˜ê³  ìˆì„ ìˆ˜ ìˆê³ , íŒŒíŠ¸ë„ˆì‚¬ì¸¡ ê°œë°œìë¶„ì´ ìˆ˜ì •í•˜ì‹¤ ë•Œ ëˆ„ë½ë ìˆ˜ë„ ìˆëŠ” ì—¬ì§€ê°€ ìˆê¸° ë•Œë¬¸ì— `ObjectMapper` ì„¤ì •ì— í™€ë”°ì˜´í‘œë¥¼ í—ˆìš©í•˜ëŠ” ê¸°ëŠ¥ì„ í™œì„±í™”í•´ì£¼ì—ˆë‹¤.

<br />

```java
@Configuration
public class ObjectMapperConfig implements Jackson2ObjectMapperBuilderCustomizer {
    @Override
    public void customize(Jackson2ObjectMapperBuilder jacksonObjectMapperBuilder) {
        jacksonObjectMapperBuilder
                .modules(new JavaTimeModule())
                .visibility(PropertyAccessor.FIELD, Visibility.ANY)
                .featuresToEnable(JsonParser.Feature.ALLOW_SINGLE_QUOTES) // ì¶”ê°€ !
                .featuresToDisable(DeserializationFeature.READ_UNKNOWN_ENUM_VALUES_AS_NULL)
                .featuresToDisable(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES)
                .build();
    }
}
```

<br />
