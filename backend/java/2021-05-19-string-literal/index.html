<!DOCTYPE html>
<html lang="ko"><head><title>자바 리터럴(literal) 표기법과 String | 돈 받고 일하면 프로</title><meta name="generator" content="Jekyll v4.2.1" /><meta property="og:title" content="자바 리터럴(literal) 표기법과 String" /><meta name="author" content="shirohoo" /><meta property="og:locale" content="ko_KR, en_US" /><meta name="description" content="자바에서 문자열을 담당하는String에 대한 탐구" /><meta property="og:description" content="자바에서 문자열을 담당하는String에 대한 탐구" /><meta property="og:site_name" content="돈 받고 일하면 프로" /><meta property="og:image" content="/assets/img/backend/java.png" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2021-05-19T20:46:00+00:00" /><meta name="twitter:card" content="summary_large_image" /><meta property="twitter:image" content="/assets/img/backend/java.png" /><meta property="twitter:title" content="자바 리터럴(literal) 표기법과 String" /><meta name="google-site-verification" content="google-site-verification=QP6xbvFbQ-RK1rEeDlge0lpDYvcCG0FdC5crTSd-aDs" /> <script type="application/ld+json"> {"author":{"@type":"Person","name":"shirohoo"},"description":"자바에서 문자열을 담당하는String에 대한 탐구","url":"/backend/java/2021-05-19-string-literal/","@type":"BlogPosting","image":"/assets/img/backend/java.png","headline":"자바 리터럴(literal) 표기법과 String","dateModified":"2024-03-24T17:42:01+00:00","datePublished":"2021-05-19T20:46:00+00:00","publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"/assets/img/me.gif"},"name":"shirohoo"},"mainEntityOfPage":{"@type":"WebPage","@id":"/backend/java/2021-05-19-string-literal/"},"@context":"https://schema.org"}</script><meta name="keywords" content="java,kotlin,python,spring,backend"><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no"><meta http-equiv="x-ua-compatible" content="ie=edge"><meta name="mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="돈 받고 일하면 프로"><meta name="apple-mobile-web-app-status-bar-style" content="default"><meta name="application-name" content="돈 받고 일하면 프로"><meta name="theme-color" content="rgb(8,46,57)"><meta name="generator" content="Hydejack v9.1.5" /><link rel="alternate" href="/backend/java/2021-05-19-string-literal/" hreflang="ko-kr, en-us"><link type="application/atom+xml" rel="alternate" href="/feed.xml" title="돈 받고 일하면 프로" /><link rel="shortcut icon" href="/assets/icons/favicon.ico"><link rel="apple-touch-icon" href="/assets/icons/icon-192x192.png"><link rel="manifest" href="/assets/site.webmanifest"><link rel="dns-prefetch" href="https://fonts.googleapis.com"><link rel="dns-prefetch" href="https://fonts.gstatic.com"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preload" href="/assets/img/swipe.svg" as="image" id="_hrefSwipeSVG"><link rel="dns-prefetch" href="/assets/js/search-worker-9.1.5.js" as="worker" id="_hrefSearch"><link rel="dns-prefetch" href="/assets/bower_components/katex/dist/katex.min.css" id="_katexPreload"> <noscript><link rel="stylesheet" href="/assets/bower_components/katex/dist/katex.min.css"></noscript> <script>!function(r,c){"use strict";function a(e,t,n,o){e.addEventListener?e.addEventListener(t,n,o):e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n}r.loadJS=function(e,t){var n=c.createElement("script");n.src=e,t&&a(n,"load",t,{once:!0});t=c.scripts[0];return t.parentNode.insertBefore(n,t),n},r._loaded=!1,r.loadJSDeferred=function(e,t){var n=c.createElement("script");function o(){r._loaded=!0,t&&a(n,"load",t,{once:!0});var e=c.scripts[0];e.parentNode.insertBefore(n,e)}return n.src=e,r._loaded?o():a(r,"load",o,{once:!0}),n},r.setRel=r.setRelStylesheet=function(e){a(c.getElementById(e),"load",function(){this.rel="stylesheet"},{once:!0})}}(window,document); !function(a){"use strict";var b=function(b,c,d){function e(a){return h.body?a():void setTimeout(function(){e(a)})}function f(){i.addEventListener&&i.removeEventListener("load",f),i.media=d||"all"}var g,h=a.document,i=h.createElement("link");if(c)g=c;else{var j=(h.body||h.getElementsByTagName("head")[0]).childNodes;g=j[j.length-1]}var k=h.styleSheets;i.rel="stylesheet",i.href=b,i.media="only x",e(function(){g.parentNode.insertBefore(i,c?g:g.nextSibling)});var l=function(a){for(var b=i.href,c=k.length;c--;)if(k[c].href===b)return a();setTimeout(function(){l(a)})};return i.addEventListener&&i.addEventListener("load",f),i.onloadcssdefined=l,l(f),i};"undefined"!=typeof exports?exports.loadCSS=b:a.loadCSS=b}("undefined"!=typeof global?global:this); !function(a){if(a.loadCSS){var b=loadCSS.relpreload={};if(b.support=function(){try{return a.document.createElement("link").relList.supports("preload")}catch(b){return!1}},b.poly=function(){for(var b=a.document.getElementsByTagName("link"),c=0;c<b.length;c++){var d=b[c];"preload"===d.rel&&"style"===d.getAttribute("as")&&(a.loadCSS(d.href,d,d.getAttribute("media")),d.rel=null)}},!b.support()){b.poly();var c=a.setInterval(b.poly,300);a.addEventListener&&a.addEventListener("load",function(){b.poly(),a.clearInterval(c)}),a.attachEvent&&a.attachEvent("onload",function(){a.clearInterval(c)})}}}(this); !function(w) { w._baseURL = '/'; w._publicPath = '/assets/js/'; w._noPushState = false; w._noDrawer = false; w._noNavbar = false; w._noToc = false; w._noSearch = false; w._advertise = false; w._search = { DATA_URL: '/assets/sitedata.json?no-cache', STORAGE_KEY: 'mini-search/', INDEX_KEY: 'index--2024-03-24T17:42:53+00:00', }; w._clapButton = false; }(window);</script> <!--[if gt IE 8]><!----><style id="_styleInline"> .clearfix,.sidebar-social::after{content:"";display:table;clear:both}.color-transition,.content .avatar,.nav-btn,.nav-btn-bar,.navbar,.message,.note-sm,#markdown-toc,.note,.hr-bottom,.hr-after::after,hr,.hr,p,body{transition:none}#_dark-mode{font-size:1.25rem}@media screen{body.light-mode{--body-color: #333;--body-bg: #fff;--border-color: #ebebeb;--gray: #777;--gray-bg: rgba(0,0,0,0.025);--gray-text: #666;--menu-text: #bbb;--inv-body-color: #ccc;--inv-body-bg: var(--dark-mode-body-bg)}body.light-mode .content{-webkit-font-smoothing:initial;-moz-osx-font-smoothing:initial}body.dark-mode{--body-color: #ccc;--body-bg: var(--dark-mode-body-bg);--border-color: var(--dark-mode-border-color);--gray: rgba(255,255,255,.5);--gray-bg: rgba(255,255,255,.033);--gray-text: rgba(255,255,255,.625);--menu-text: rgba(255,255,255,.25);--inv-body-color: #333;--inv-body-bg: #fff}body.dark-mode .content{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}body.dark-mode p>code,body.dark-mode li>code,body.dark-mode table code{background-color:white;color:black;border-radius:5px;font-weight:bold}}@media screen and (prefers-color-scheme: dark){body{--body-color: #ccc;--body-bg: var(--dark-mode-body-bg);--border-color: var(--dark-mode-border-color);--gray: rgba(255,255,255,.5);--gray-bg: rgba(255,255,255,.033);--gray-text: rgba(255,255,255,.625);--menu-text: rgba(255,255,255,.25);--inv-body-color: #333;--inv-body-bg: #fff}body .content{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}body p>code,body li>code,body table code{background-color:white;color:black;border-radius:5px;font-weight:bold}.tippy-content{-webkit-font-smoothing:initial;-moz-osx-font-smoothing:initial}}html{--font-family: Architects Daughter;--font-family-heading: Architects Daughter;--code-font-family: ui-monospace,Menlo,Monaco,Ligamonacop,Cascadia Mono,Segoe UI Mono,Roboto Mono,Oxygen Mono,Ubuntu Monospace,Source Code Pro,Fira Mono,Droid Sans Mono,Courier New,monospace;--body-color: #333;--body-bg: #fff;--border-color: #ebebeb;--gray: #777;--gray-bg: rgba(0,0,0,0.025);--gray-text: #666;--menu-text: #bbb;--inv-body-color: #ccc;--inv-body-bg: var(--dark-mode-body-bg);--root-font-size: 15px;--root-font-size-medium: 16px;--root-font-size-large: 17px;--root-font-size-print: 8pt;--root-line-height: 1.75;--font-weight: 400;--font-weight-bold: 700;--font-weight-heading: 700;--content-width-5: 54rem;--content-margin-5: 4rem;--sidebar-width: 21rem;--half-content: 31rem;--break-point-3: 64em;--break-point-5: 86em;--break-point-dynamic: 1664px}html .content{-webkit-font-smoothing:initial;-moz-osx-font-smoothing:initial}*{box-sizing:border-box}html,body{margin:0;padding:0}html{font-family:var(--font-family);font-size:var(--root-font-size);line-height:var(--root-line-height)}body{color:var(--body-color);background-color:var(--body-bg);font-weight:var(--font-weight);overflow-y:scroll}.content img,.img,.content video,.video{max-width:100%;height:auto}.lead{margin-left:-1rem;margin-right:-1rem;margin-bottom:1.5rem}img.lead,video.lead{display:block;max-width:calc(100% + 2rem);width:calc(100% + 2rem);height:auto}.heading,.f6,h6,.h6,.f5,h5,.h5,.f4,.sidebar-nav-item,h4,.h4,.post-date,.f3,h3,.h3,.f2,h2,.h2,.f1,h1,.h1{font-family:var(--font-family-heading);font-weight:var(--font-weight-heading)}.f1,h1,.h1{font-size:2rem;line-height:1.3}.f2,h2,.h2{font-size:1.5rem;line-height:1.4}.f3,h3,.h3{font-size:1.2em;line-height:1.5}.f4,.sidebar-nav-item,h4,.h4,.post-date{font-size:1.08rem;line-height:1.6}.f5,h5,.h5{font-size:1.04rem;line-height:1.7}.f6,h6,.h6{font-size:1rem}.content h1>a,.content .h1>a{text-decoration:none;border-bottom:none}@media screen and (max-width: 42em){.content h1,.content .h1{font-size:1.7rem;line-height:1.35}}@media screen and (min-width: 86em){.content h1,.content .h1{font-size:2.4rem;line-height:1.25}}@media screen and (min-width: 1664px){body:not(.no-large-headings) .content h1,body:not(.no-large-headings) .content .h1{width:calc(100% + 50vw - 32rem);font-size:3rem;line-height:1.2}}@media screen and (min-width: 124em){body:not(.no-large-headings) .content h1,body:not(.no-large-headings) .content .h1{font-size:3rem;line-height:1.1}}h1,h2,h3,.h1,.h2,.h3{margin:4rem 0 1rem}h4,h5,h6,.h4,.post-date,.h5,.h6{margin:3rem 0 .5rem}p{margin-top:0;margin-bottom:1rem}p.lead{font-size:1.2em;margin-top:1.5rem;margin-bottom:1.5rem;padding:0 1rem}ul,ol{padding-left:1.25rem}hr,.hr{border:0;margin:1rem 0;border-top:1px solid var(--border-color)}.hr-after::after{content:"";display:block;margin:1rem 0;border-top:1px solid var(--border-color)}.hr-bottom{border-bottom:1px solid var(--border-color);padding-bottom:.75rem;margin-bottom:1rem}.page{margin-bottom:3em}.page li+li{margin-top:.25rem}.page>header{position:relative;margin-bottom:1.5rem}@media screen and (min-width: 1664px){body:not(.no-third-column) .page>header>.lead+.note-sm,body:not(.no-third-column) .page>header>.lead+#markdown-toc,body:not(.no-third-column) .page>header>.lead+.note,body:not(.no-third-column) .page>header>a.no-hover+.note-sm,body:not(.no-third-column) .page>header>a.no-hover+#markdown-toc,body:not(.no-third-column) .page>header>a.no-hover+.note{position:absolute;right:-25rem;width:21rem;bottom:0;margin-bottom:0}}.page-title,.post-title{margin-top:0}.post-date{display:flex;justify-content:space-between;margin-top:-.6rem;height:2rem;margin-bottom:.85rem;color:var(--gray)}.post-date>.ellipsis,#breadcrumbs.post-date>ul{cursor:pointer}.post-date [class^="icon-"]{display:inline-block;font-size:smaller;margin-right:.25rem}.related-posts{padding-left:0;list-style:none;margin-bottom:2rem}.related-posts>li,.related-posts>li+li{margin-top:1rem}.message,.note-sm,#markdown-toc,.note{margin-bottom:1rem;padding:1rem;color:var(--gray-text);background-color:var(--gray-bg);margin-left:-1rem;margin-right:-1rem}.note-sm,#markdown-toc,.note{background:transparent;color:var(--body-color);font-size:smaller;border-left:1px solid var(--border-color);padding:1.2rem 1rem 0 1rem;margin:1rem -1rem;position:relative}.note-sm:before,#markdown-toc:before,.note:before{font-size:0.667rem;font-weight:bold;font-style:normal;letter-spacing:.025rem;text-transform:uppercase;color:var(--menu-text);position:absolute;top:0}.note-sm[title]:before,#markdown-toc[title]:before,.note[title]:before{content:attr(title) !important}.note{font-size:1rem}@media screen{body::before{content:'';width:.5rem;background:var(--gray-bg);position:fixed;left:0;top:0;bottom:0}}@media (min-width: 64em){body::before{width:21rem}}@media (min-width: 1664px){body::before{width:calc(50% - 31rem)}}@media screen and (min-width: 42em){html{font-size:var(--root-font-size-medium)}}@media screen and (min-width: 124em){html{font-size:var(--root-font-size-large)}}#breadcrumbs>ul{height:1rem;margin:-1.5rem 0 .5rem;padding:0;font-size:.667rem;color:var(--menu-text);text-transform:uppercase;width:100%;list-style:none}#breadcrumbs>ul>li{display:inline}#breadcrumbs>ul>li a{color:var(--gray);text-decoration:none;border-bottom:none}.fl{float:left}.fr{float:right}.mb4{margin-bottom:4rem}.mb6{margin-bottom:6rem}.mt0{margin-top:0}.mt1{margin-top:1rem}.mt2{margin-top:2rem}.mt3{margin-top:3rem}.mt4{margin-top:4rem}.pb0{padding-bottom:0}.ml1{margin-left:1rem}.mr1{margin-right:1rem}.sixteen-nine{position:relative}.sixteen-nine::before{display:block;content:"";width:100%;padding-top:56.25%}.sixteen-nine>*{position:absolute;top:0;left:0;right:0;bottom:0}.sixteen-ten{position:relative}.sixteen-ten::before{display:block;content:"";width:100%;padding-top:62.5%}.sixteen-ten>*{position:absolute;top:0;left:0;right:0;bottom:0}.four-three{position:relative}.four-three::before{display:block;content:"";width:100%;padding-top:75%}.four-three>*{position:absolute;top:0;left:0;right:0;bottom:0}.sr-only{display:none}.larger{font-size:larger}.smaller{font-size:smaller}.clearfix,.sidebar-social::after{content:"";display:table;clear:both}.ellipsis,#breadcrumbs>ul{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.border{border:1px solid var(--border-color)}@media (min-width: 42em){.border-radius,.lead,.page .aspect-ratio.sixteen-nine.lead{border-radius:.5rem}}.fallback-img{background-position:center;background-repeat:no-repeat;background-image:url("data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPHN2ZyB3aWR0aD0iMTYwIiBoZWlnaHQ9IjkwIiB2aWV3Qm94PSIwIDAgMTYwIDkwIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgogIDxnIHRyYW5zZm9ybT0ibWF0cml4KDAuMDQ4ODI4LCAwLCAwLCAwLjA0Nzk5MSwgNTQuOTk5OTczLCAyMC40MjgxNDgpIj4KICAgIDxwYXRoIHN0eWxlPSJmaWxsOnJnYmEoMTI4LDEyOCwxMjgsLjMzKSIgZD0iTTk1OS44ODQgMTI4YzAuMDQwIDAuMDM0IDAuMDgyIDAuMDc2IDAuMTE2IDAuMTE2djc2Ny43N2MtMC4wMzQgMC4wNDAtMC4wNzYgMC4wODItMC4xMTYgMC4xMTZoLTg5NS43N2MtMC4wNDAtMC4wMzQtMC4wODItMC4wNzYtMC4xMTQtMC4xMTZ2LTc2Ny43NzJjMC4wMzQtMC4wNDAgMC4wNzYtMC4wODIgMC4xMTQtMC4xMTRoODk1Ljc3ek05NjAgNjRoLTg5NmMtMzUuMiAwLTY0IDI4LjgtNjQgNjR2NzY4YzAgMzUuMiAyOC44IDY0IDY0IDY0aDg5NmMzNS4yIDAgNjQtMjguOCA2NC02NHYtNzY4YzAtMzUuMi0yOC44LTY0LTY0LTY0djB6Ii8+CiAgICA8cGF0aCBzdHlsZT0iZmlsbDpyZ2JhKDEyOCwxMjgsMTI4LC4zMykiIGQ9Ik04MzIgMjg4YzAgNTMuMDIwLTQyLjk4IDk2LTk2IDk2cy05Ni00Mi45OC05Ni05NiA0Mi45OC05NiA5Ni05NiA5NiA0Mi45OCA5NiA5NnoiLz4KICAgIDxwYXRoIHN0eWxlPSJmaWxsOnJnYmEoMTI4LDEyOCwxMjgsLjMzKSIgZD0iTTg5NiA4MzJoLTc2OHYtMTI4bDIyNC0zODQgMjU2IDMyMGg2NGwyMjQtMTkyeiIvPgogIDwvZz4KPC9zdmc+")}hy-push-state a{color:var(--body-color)}@supports not ((text-decoration-thickness: initial) and (text-underline-offset: initial)){hy-push-state a{text-decoration:none;border-bottom:2px solid}}@supports (text-decoration-thickness: initial) and (text-underline-offset: initial){hy-push-state a{text-decoration-style:solid;text-underline-offset:.35rem;text-decoration-thickness:2px}}hy-push-state a.no-hover{border-bottom:none;text-decoration-thickness:unset;text-underline-offset:unset}.content a:not(.btn):not(.no-hover){border-color:var(--accent-color-faded)}@supports (text-decoration-thickness: initial) and (text-underline-offset: initial){.content a:not(.btn):not(.no-hover){text-decoration-color:var(--accent-color-faded)}}.content .aspect-ratio{overflow:hidden}.content .aspect-ratio img{margin:0;width:100%;height:100%;background-color:var(--gray-bg)}hy-drawer{width:100%;position:relative;overflow:hidden;display:block;z-index:4}@media screen and (min-width: 64em){hy-drawer{position:fixed;width:21rem;top:0;left:0;bottom:0;margin-left:0}hy-drawer.cover{position:relative;width:100%}}@media screen and (min-width: 1664px){hy-drawer{width:calc(50% - 31rem)}}.sidebar{position:relative;display:flex;justify-content:center;align-items:center;color:rgba(255,255,255,0.75);text-align:center;min-height:100vh}.sidebar.invert{color:rgba(32,32,32,0.75)}.sidebar a{color:#fff;border-bottom-color:rgba(255,255,255,0.2);text-decoration-color:rgba(255,255,255,0.2)}.sidebar.invert a{color:#222;border-bottom-color:rgba(32,32,32,0.2);text-decoration-color:rgba(32,32,32,0.2)}.sidebar-bg{position:absolute;top:0;left:calc(50% - 50vw);width:100vw;height:100%;background:#202020 center / cover}.sidebar-bg::after{content:"";position:absolute;top:0;left:0;bottom:0;right:0;background:rgba(0,0,0,0.05)}.sidebar-bg.sidebar-overlay::after{background:linear-gradient(to bottom, rgba(32,32,32,0) 0%, rgba(32,32,32,0.5) 50%, rgba(32,32,32,0) 100%)}.sidebar-sticky{position:relative;z-index:3;max-width:21rem;padding:1.5rem;contain:content}.sidebar-about .avatar{margin-bottom:1.5rem}.sidebar-about>a.sidebar-title{text-decoration:none}.sidebar-about>a.sidebar-title>h2{margin:0;padding-bottom:.5rem}.sidebar-about>a.sidebar-title::after{content:'';display:block;border-bottom:2px solid;margin:0 auto .5rem;width:4rem;border-color:rgba(255,255,255,0.2);transition:border-color 250ms}.sidebar-about>a.sidebar-title:hover::after{border-color:#fff;transition:border-color 50ms}.sidebar.invert .sidebar-about>a.sidebar-title::after{border-color:rgba(32,32,32,0.2)}.sidebar.invert .sidebar-about>a.sidebar-title:hover::after{border-color:#222}.sidebar-nav>ul{list-style:none;padding-left:0}.sidebar-nav-item{display:inline-block;margin-bottom:.5rem}@media (min-width: 64em){#_main.no-drawer #_menu{display:none}#_main.no-drawer .nav-btn-bar>:nth-child(2){border:none}}.sidebar-social>ul{display:inline-block;list-style:none;padding-left:0;margin-bottom:0}.sidebar-social>ul>li{float:left}.sidebar-social>ul>li>a{display:inline-block;text-align:center;font-size:1.4rem;width:3rem;height:4rem;padding:.5rem 0;line-height:3rem;text-decoration:none;border-bottom-width:2px;border-bottom-style:solid}.sidebar-social>ul li+li{margin-top:0}.fixed-common,.fixed-bottom,.fixed-top{position:fixed;left:0;width:100%;z-index:2}.fixed-top{top:0}.fixed-bottom{bottom:0}.navbar>.content{position:relative;padding-top:0;padding-bottom:0;min-height:0;max-height:5rem}.nav-btn-bar{margin:0 -1rem;background-color:white;background-color:var(--body-bg);height:5rem;display:flex;align-items:center;position:relative}.nav-btn-bar>:first-child,.nav-btn-bar>:last-child{border:none}.nav-btn{background:none;border:none;text-decoration:none;display:flex;align-items:center;justify-content:center;width:3.25rem;height:5rem;color:var(--menu-text);border-right:1px solid var(--border-color);border-left:1px solid var(--border-color);margin-left:-1px}#markdown-toc{margin:2rem -1rem 2rem calc(-1rem + 1px);padding-left:2.5rem;padding-bottom:.5rem}#markdown-toc:before{left:1rem}@media screen and (min-width: 1664px){body:not(.no-toc) #markdown-toc{position:absolute;z-index:4;width:20.5rem;right:0;margin:auto;overflow:auto}}@media screen and (min-width: 1664px){body.no-break-layout:not(.no-toc) #markdown-toc{width:calc(50% - 31rem)}}.content{margin-left:auto;margin-right:auto;padding:8rem 1rem 12rem}@media screen{.content{padding-left:1.5rem;min-height:100vh}}@media screen and (min-width: 42em){.content{max-width:42rem}}@media screen and (min-width: 54em){.content{max-width:48rem}}@media screen and (min-width: 64em){.content{padding-left:1rem;margin-left:24rem;margin-right:3rem}}@media screen and (min-width: 86em){.content{padding-top:9rem;margin-left:25rem;margin-right:4rem;max-width:54rem}}@media screen and (min-width: 1664px){.content{margin:auto}}.large-only{display:none}@media screen and (min-width: 1664px){.large-only{display:block}}.avatar{width:7rem;height:7rem;border-radius:100%;overflow:hidden;display:inline-block}.avatar img{width:100%}.content .avatar{float:right;box-sizing:content-box;border:1rem solid var(--body-bg);transition:border-color 1s ease;margin-top:-1.5rem;margin-right:-1rem}.sidebar a{text-shadow:rgba(0,0,0,0.25) 0.1rem 0.1rem 0.15rem}.note:before{content:"Note"}.page>header>.note-sm:before,.page>header>.note:before,.page>header>#markdown-toc:before{content:"Description"}#markdown-toc:before{content:"Table of Contents"}.layout-resume .note-sm:before,.layout-resume .note:before,.layout-resume #markdown-toc:before{content:"Summary"} .clearfix,main:not(.layout-resume) .columns::after{content:"";display:table;clear:both}.color-transition,main:not(.layout-resume) .project-card{transition:none}main:not(.layout-resume) .columns{margin-left:-1rem;display:flex;flex-wrap:wrap;contain:content;padding-top:1rem;margin-top:1rem;padding-right:1rem;margin-right:-1rem}main:not(.layout-resume) .column{float:left;padding-left:1rem;margin-bottom:2rem;width:100%;display:flex}@media screen and (min-width: 42em){main:not(.layout-resume) .columns{margin-left:-2rem;margin-right:-2rem}main:not(.layout-resume) .column-1-2{width:50%}}@media screen and (min-width: 1664px){main:not(.layout-resume) .columns-break{width:calc(50vw + 25rem)}main:not(.layout-resume) .columns-break>.column-1-2,main:not(.layout-resume) .columns-break>.column-1{width:27.5rem}}@media print{main:not(.layout-resume) .columns{display:block}main:not(.layout-resume) .column{display:block;width:50%}}main:not(.layout-resume) .project-card{width:100%;color:var(--gray-text);background-color:var(--gray-bg);padding-bottom:1rem;position:relative;overflow:hidden;box-shadow:0.125rem 0.125rem 1rem rgba(0,0,0,0.2);contain:content;border-radius:.5rem;page-break-inside:avoid;transition:transform 500ms ease;will-change:transform}main:not(.layout-resume) .project-card:hover{transform:translateY(-0.25rem);transition:transform 250ms ease}main:not(.layout-resume) .project-card>a.flip-project{display:block}main:not(.layout-resume) .project-card>a.flip-project .project-card-img{margin-bottom:0}main:not(.layout-resume) .project-card>a.flip-project .project-card-img img{display:block;border-top-left-radius:.5rem;border-top-right-radius:.5rem}main:not(.layout-resume) .project-card a{position:relative;z-index:1}main:not(.layout-resume) .project-card a.fill-card{position:absolute;top:0;left:0;right:0;bottom:0;z-index:0}main:not(.layout-resume) .project-card>.project-card-title,main:not(.layout-resume) .project-card>.project-card-text{text-align:center;padding:0 1rem}main:not(.layout-resume) .project-card>.project-card-title{display:block;font-size:1.08rem;margin-top:.75rem;margin-bottom:.25rem;color:inherit}main:not(.layout-resume) .project-card>.project-card-text{margin:.25rem 0}main:not(.layout-resume) .column-1>.project-card>.project-card-title{font-size:1.2rem}main:not(.layout-resume) .column-1>.project-card>.project-card-text{font-size:1rem}</style><link rel="preload" as="style" href="/assets/css/hydejack-9.1.5.css" id="_stylePreload"><link rel="preload" as="style" href="/assets/icomoon/style.css" id="_iconsPreload"><link rel="preload" as="style" href="https://fonts.googleapis.com/css?family=Architects%20Daughter&display=swap" id="_fontsPreload"> <script> setRel('_stylePreload'); setRel('_iconsPreload'); /**/setRel('_fontsPreload');/**/ </script> <noscript><link rel="stylesheet" href="/assets/css/hydejack-9.1.5.css"><link rel="stylesheet" href="/assets/icomoon/style.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Architects%20Daughter&display=swap"> </noscript><style id="_pageStyle"> html{--accent-color: rgb(79,177,186);--accent-color-faded: rgba(79,177,186,0.5);--accent-color-highlight: rgba(79,177,186,0.1);--accent-color-darkened: #409ba3;--theme-color: rgb(8,46,57);--dark-mode-body-bg: #282f31;--dark-mode-border-color: #343c3f}</style><!--<![endif]--> <!-- robots --><meta name="NaverBot" content="All"/><meta name="NaverBot" content="index,follow"/><meta name="Yeti" content="All"/><meta name="Yeti" content="index,follow"/><meta name="naver-site-verification" content="82d4d6173147a0aba3bdf3afb612c7188e832cf1" /><meta name="google-site-verification" content="qGe3nTw8iiwhc_9vqrjuB8uB0AiMCGPzG8WNTHHC13I" /> <!-- Google AdSense --> <script data-ad-client="ca-pub-9270648935360607" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script> <!-- favicons --><link rel="apple-touch-icon" sizes="57x57" href="/assets/icons/apple-icon-57x57.png"><link rel="apple-touch-icon" sizes="60x60" href="/assets/icons/apple-icon-60x60.png"><link rel="apple-touch-icon" sizes="72x72" href="/assets/icons/apple-icon-72x72.png"><link rel="apple-touch-icon" sizes="76x76" href="/assets/icons/apple-icon-76x76.png"><link rel="apple-touch-icon" sizes="114x114" href="/assets/icons/apple-icon-114x114.png"><link rel="apple-touch-icon" sizes="120x120" href="/assets/icons/apple-icon-120x120.png"><link rel="apple-touch-icon" sizes="144x144" href="/assets/icons/apple-icon-144x144.png"><link rel="apple-touch-icon" sizes="152x152" href="/assets/icons/apple-icon-152x152.png"><link rel="apple-touch-icon" sizes="180x180" href="/assets/icons/apple-icon-180x180.png"><link rel="icon" type="image/png" sizes="192x192" href="/assets/icons/android-icon-192x192.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/icons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="96x96" href="/assets/icons/favicon-96x96.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/icons/favicon-16x16.png"><link rel="manifest" href="/manifest.json"><meta name="msapplication-TileColor" content="#ffffff"><meta name="msapplication-TileImage" content="/ms-icon-144x144.png"><meta name="theme-color" content="#ffffff"> <!-- Code used for embedding Gumroad on the Hydejack Site. Left here for reference, feel free to delete. --><link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet"> <script src="/assets/js/sidebar-folder.js"></script><link rel="stylesheet" href="https://unpkg.com/swiper/swiper-bundle.min.css"> <script src="https://unpkg.com/swiper/swiper-bundle.min.js"></script> <script src="/assets/js/swiper-control.js"></script> <script src="/assets/js/collapsible.js"></script> <script src="/assets/js/mouse-buble.js"></script><link rel="dns-prefetch" href="https://assets.gumroad.com"> <script type="module"> document.querySelector('hy-push-state').addEventListener('load', () => { let tocElement = document.getElementById("markdown-toc"); if(tocElement){ let affixedDiv = document.createElement("div"); affixedDiv.style.position = "relative"; affixedDiv.style.top = "-1rem"; tocElement.parentNode.insertBefore(affixedDiv, tocElement); let headerList = document.getElementsByClassName("permalink"); if(headerList){ let prevElement; window.addEventListener("scroll", () => { let hurdleTop = affixedDiv.getBoundingClientRect().top; if(hurdleTop <= 0) tocElement.classList.add("affix"); else tocElement.classList.remove("affix"); for(let i=0;i<headerList.length;i++){ if(headerList[i].getBoundingClientRect().top >= 0){ prevElement?.style.removeProperty("font-weight"); let tocId = "markdown-toc-" + headerList[i].parentNode.id; prevElement = document.getElementById(tocId); prevElement.style.fontWeight = "bold";; break; } } }); } } }); </script> <script type="module"> let p; const promisify = f => x => new Promise(r => f(x).addEventListener('load', r)); const loadJS = promisify(window.loadJS); document.querySelector('hy-push-state').addEventListener('load', () => { const io = new IntersectionObserver(async (entries) => { if (entries.some(x => x.isIntersecting)) { p = p || loadJS('https://gumroad.com/js/gumroad-embed.js'); await p; if (!window.GumroadEmbed) { await new Promise(function check1(res) { if ('createGumroadEmbed' in window) res(window.createGumroadEmbed()); else setTimeout(() => check1(res), 200); }); } await new Promise(function check2(res) { if ('GumroadEmbed' in window) res(GumroadEmbed.reload()); else setTimeout(() => check2(res), 200); }); } }, { rootMargin: '1440px' }); document.querySelectorAll('.gumroad-product-embed').forEach(el => io.observe(el)); }); </script> <script type="module"> let p; const promisify = f => x => new Promise(r => f(x).addEventListener('load', r)); const loadJS = promisify(window.loadJS); document.querySelector('hy-push-state').addEventListener('load', () => { const io = new IntersectionObserver(async (entries) => { if (entries.some(x => x.isIntersecting)) { p = p || loadJS('https://gumroad.com/js/gumroad.js'); await p; if (!window.GumroadOverlay) { await new Promise(function check(res) { if ('createGumroadOverlay' in window) res(window.createGumroadOverlay()); else setTimeout(() => check(res), 200); }); } } }, { rootMargin: '300px' }); document.querySelectorAll('.gumroad-button').forEach(el => io.observe(el)); }); </script><body class="no-break-layout"> <script> window._sunrise = 6; window._sunset = 18; !function(e,s){var d="light-mode",o="dark-mode",a=(new Date).getHours();"matchMedia"in e&&e.matchMedia("(prefers-color-scheme)")||(o=(e=a<=e._sunrise||a>=e._sunset?o:d)==o?d:o,s.body.classList.add(e),s.body.classList.remove(o))}(window,document); </script> <hy-push-state id="_pushState" replace-selector="#_main" link-selector="a[href]:not([href^='/assets/']):not(.external):not(.no-push-state)" script-selector="script" duration="500" hashchange ><div id="_navbar" class="navbar fixed-top"><div class="content"> <span class="sr-only">Jump to:</span><div class="nav-btn-bar"> <a id="_menu" class="nav-btn no-hover" href="#_drawer--opened"> <span class="sr-only">Navigation</span> <span class="icon-menu"></span> </a><div class="nav-span"></div></div></div></div><hr class="sr-only" hidden /><main id="_main" class="content layout-post" role="main" ><nav id="breadcrumbs" class="screen-only"><ul><li><a href="/">home</a><li> <span>/</span> <a href="/backend/">backend</a><li> <span>/</span> <a href="/backend/java/">java</a><li> <span>/</span> <span>2021-05-19-string-literal</span></ul></nav><script async src="https://www.googletagmanager.com/gtag/js?id=G-NKVY3834TW"></script> <script> window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'G-NKVY3834TW'); </script><article id="post-backend-java-string-literal" class="page post mb6" role="article"><header><h1 class="post-title flip-project-title"> 자바 리터럴(literal) 표기법과 String</h1><div class="post-date"> <span class="ellipsis mr1"> <time datetime="2021-05-19T20:46:00+00:00">19 May 2021</time> &nbsp;in&nbsp;<a href="/backend/" class="flip-title"><u>BackEnd</u></a> / <span>Java</span> </span></div><div class="img-wrapper lead aspect-ratio sixteen-nine flip-project-img"> <img src="/assets/img/backend/java.png" alt="자바 리터럴(literal) 표기법과 String" width="864" height="486" loading="lazy" /></div><p class="note-sm" > 자바에서 문자열을 담당하는<code class="language-plaintext highlighter-rouge">String</code>에 대한 탐구</header><ul id="markdown-toc"><li><a href="#-리터럴literal" id="markdown-toc--리터럴literal">📕 리터럴(literal)</a><ul><li><a href="#-자바-프로그램의-모든-문자열-리터럴은-이-클래스의-인스턴스로-구현된다--문자열-객체는-불변하므로-공유할-수-있다" id="markdown-toc--자바-프로그램의-모든-문자열-리터럴은-이-클래스의-인스턴스로-구현된다--문자열-객체는-불변하므로-공유할-수-있다">💡 자바 프로그램의 모든 문자열 리터럴은 이 클래스의 인스턴스로 구현된다. | 문자열 객체는 불변하므로 공유할 수 있다.</a><li><a href="#-문자열은-리터럴로-생성된-뒤-값을-변경할-수-없다" id="markdown-toc--문자열은-리터럴로-생성된-뒤-값을-변경할-수-없다">💡 문자열은 리터럴로 생성된 뒤 값을 변경할 수 없다</a></ul></ul><p> <h1 id="-리터럴literal">📕 리터럴(literal)</h1><hr /><blockquote><p>컴퓨터 과학 분야에서 리터럴(literal) 이란 소스 코드의 고정된 값을 대표하는 용어다. 거의 모든 프로그래밍 언어는 정수, 부동소수점, 숫자, 문자열, 불린 자료형과 같은 용어를 가지고 있다. 어떤 언어는 열거 타입이나, 배열, 자료형, 객체와 같은 용어도 있다. 리터럴과 대조적으로, 고정된 값을 가질 수 있는 변수나 변경되지 않는 상수가 있다. 다음의 예제와 같이, 리터럴은 변수 초기화에 종종 사용된다.</blockquote><p> <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="o">;</span>
<span class="nc">String</span> <span class="n">s</span> <span class="o">=</span> <span class="s">"봄싹"</span><span class="o">;</span>
</code></pre></div></div><p style="text-align: right"><em>📜 출처 - 위치백과</em><p> <p>자바를 공부하다 보면 책에서, 강의에서, 주변 사람에 의해서<p>리터럴, 리터럴 표기법이라는 용어를 종종 쓰곤 한다.<p>자바의 인스턴스가 뭔지 알면 아주 쉽게 이해할 수 있는 내용이다.<p>반대로 자바의 인스턴스가 뭔지 아직 모른다면 절대 제대로 이해할 수 없는 내용이기도 하다.<p> <p>자바에서 문자열을 담당하는 객체는 <code class="language-plaintext highlighter-rouge">String</code>이다.<p>또한 String은 아주 대표적인 <code class="language-plaintext highlighter-rouge">VO(Value Object)</code>이다.<p>VO가 뭔지 모른다면 <a href="/backend/java/2021-01-17-dto-vo/">DTO 와 VO의 차이</a>를 참고하기 바란다.<p>VO는 객체를 값으로 사용하기 때문에 불변성을 갖는다.<p> <p>VO의 이름은 100원인데 런타임에 이 값이 변경되어<p>내부적으로 100원의 값이 50원으로 변경됐다고 가정해보자.<p>그럼 이 VO를 사용하는 모든 로직에서 엉뚱한 결과들이 나올 것이다.<p>100원은 어떤 상황이더라도 100원의 가치를 해야만 한다.<p>따라서 VO는 불변해야한다.<p> <p>VO의 공통점은 <code class="language-plaintext highlighter-rouge">수정자(Setter)</code>가 없거나, <code class="language-plaintext highlighter-rouge">final</code>로 선언되어 있어<p>아예 값을 수정하지 못하거나 값을 수정하려고 들면 <code class="language-plaintext highlighter-rouge">에러</code>가 발생한다는 것이다.<p>String 객체를 선언하는 데는 여러 가지 방법이 있다.<p> <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">String</span> <span class="n">str</span> <span class="o">=</span> <span class="s">"abc"</span><span class="o">;</span> <span class="c1">// 리터럴 표기법</span>

<span class="nc">String</span> <span class="n">str</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">String</span><span class="o">(</span><span class="n">data</span><span class="o">);</span> <span class="c1">// 생성자 사용</span>

<span class="kt">char</span> <span class="n">data</span><span class="o">[]</span> <span class="o">=</span> <span class="o">{</span><span class="sc">'a'</span><span class="o">,</span> <span class="sc">'b'</span><span class="o">,</span> <span class="sc">'c'</span><span class="o">};</span>
<span class="nc">String</span> <span class="n">s</span> <span class="o">=</span> <span class="nc">String</span><span class="o">.</span><span class="na">valueOf</span><span class="o">(</span><span class="n">data</span><span class="o">);</span> <span class="c1">// valueOf 사용(=생성자사용)</span>
</code></pre></div></div><p> <p>valueOf 메서드 또한 내부적으로 생성자를 이용한다.<p> <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">static</span> <span class="nc">String</span> <span class="nf">valueOf</span><span class="o">(</span><span class="kt">char</span> <span class="n">data</span><span class="o">[])</span> <span class="o">{</span>
    <span class="k">return</span> <span class="k">new</span> <span class="nf">String</span><span class="o">(</span><span class="n">data</span><span class="o">);</span>
<span class="o">}</span>
</code></pre></div></div><p> <p><code class="language-plaintext highlighter-rouge">java.lang.String</code>을 찾아보면 최상단에 이런 문구가 있다.<blockquote><p>The String class represents character strings. All string literals in Java programs, such as “abc”, are implemented as instances of this class. Strings are constant; their values cannot be changed after they are created. String buffers support mutable strings. Because String objects are immutable they can be shared.</blockquote><p> <p>이곳에서도 리터럴이라는 용어가 나온다.<p>여기서 공식문서는 몇 가지 아주 중요한 내용을 말하고 있다.<ul><li><code class="language-plaintext highlighter-rouge">abc</code>와 같은 자바 프로그램의 모든 문자열 리터럴은 이 클래스의 인스턴스로 구현된다.<li>문자열은 생성된 뒤 값을 변경할 수 없다<li>문자열 객체는 불변하므로 공유할 수 있다</ul><p>이게 무슨 말일까?<p> <h2 id="-자바-프로그램의-모든-문자열-리터럴은-이-클래스의-인스턴스로-구현된다--문자열-객체는-불변하므로-공유할-수-있다">💡 자바 프로그램의 모든 문자열 리터럴은 이 클래스의 인스턴스로 구현된다. | 문자열 객체는 불변하므로 공유할 수 있다.</h2><hr /><p>자바에서는 객체의 인스턴스를 생성하기 위해 생성자(new)를 이용하는데,<p>이 리터럴 표기법을 사용할 수 있는 String 클래스는 예외가 된다. <strong>(이외에 몇 가지 더 있다)</strong><p> <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">String</span> <span class="n">s1</span> <span class="o">=</span> <span class="s">"123"</span><span class="o">;</span>
<span class="nc">String</span> <span class="n">s2</span> <span class="o">=</span> <span class="s">"123"</span><span class="o">;</span>

<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"s1 == s2 ? "</span> <span class="o">+</span> <span class="o">(</span><span class="n">s1</span> <span class="o">==</span> <span class="n">s2</span><span class="o">));</span>
</code></pre></div></div><p> <p>String은 Object이므로 equals 메서드로 비교하는 게 정석이다.<p>하지만 이렇게 s1과 s2를 리터럴 표기법으로 선언하고 동일 비교 연산(==)을 수행하면 어떤 결과가 나올까?<p> <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">s1</span> <span class="o">==</span> <span class="n">s2</span> <span class="c1">// true</span>
</code></pre></div></div><p> <p>true가 나오게 된다.<p>Object끼리 동일 비교 연산을 했는데 true라는 결과가 나오는 것부터<p>두 객체의 주소 값이 같다는 말과 일맥상통하나, 아직 잘 이해가 되지 않는다.<p>직접 주소 값을 출력해보자.<p> <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"System.identityHashCode(s1) = "</span> <span class="o">+</span> <span class="nc">System</span><span class="o">.</span><span class="na">identityHashCode</span><span class="o">(</span><span class="n">s1</span><span class="o">));</span>
<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"System.identityHashCode(s2) = "</span> <span class="o">+</span> <span class="nc">System</span><span class="o">.</span><span class="na">identityHashCode</span><span class="o">(</span><span class="n">s2</span><span class="o">));</span>


<span class="nc">System</span><span class="o">.</span><span class="na">identityHashCode</span><span class="o">(</span><span class="n">s1</span><span class="o">)</span> <span class="o">=</span> <span class="mi">1626877848</span>
<span class="nc">System</span><span class="o">.</span><span class="na">identityHashCode</span><span class="o">(</span><span class="n">s2</span><span class="o">)</span> <span class="o">=</span> <span class="mi">1626877848</span>
</code></pre></div></div><p> <p>볼 것도 없이 같다.<p>그렇다면 리터럴 표기법이 아닌 생성자를 사용한다면?<p> <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">String</span> <span class="n">s1</span> <span class="o">=</span> <span class="s">"123"</span><span class="o">;</span>
<span class="nc">String</span> <span class="n">s2</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">String</span><span class="o">(</span><span class="s">"123"</span><span class="o">);</span>
    
<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"s1 == s2 ? "</span> <span class="o">+</span> <span class="o">(</span><span class="n">s1</span> <span class="o">==</span> <span class="n">s2</span><span class="o">));</span> <span class="c1">// false</span>
</code></pre></div></div><p> <p>이와 같이 false가 출력된다.<p>생성자로 생성하는 String 객체는 힙 메모리에 생성되기 때문에,<p>리터럴 표기법으로 작성한 s1과 다른 객체가 된다.<p> <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">String</span> <span class="n">str</span> <span class="o">=</span> <span class="s">"abc"</span><span class="o">;</span> <span class="c1">// 리터럴 표기법</span>
</code></pre></div></div><p> <p>리터럴 표기법으로 선언한 경우 생성자를 사용하지 않고도 인스턴스가 생성되며 이 인스턴스는 싱글톤이 된다.<p>따라서 한번 리터럴 표기법으로 생성한 객체는 단 한 번만 생성되며,<p>여러 클래스에서 같이 정의하더라도 이 객체는 모두 동일한 인스턴스(싱글톤)이다.<p> <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Test1</span> <span class="o">{</span>
    
    <span class="nc">String</span> <span class="n">s</span> <span class="o">=</span> <span class="s">"abc"</span><span class="o">;</span>
<span class="o">}</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Test2</span> <span class="o">{</span>
    
    <span class="nc">String</span> <span class="n">s</span> <span class="o">=</span> <span class="s">"abc"</span><span class="o">;</span>
<span class="o">}</span>


<span class="kd">public</span> <span class="kd">class</span> <span class="nc">StringTest</span> <span class="o">{</span>
    
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="nc">Test1</span> <span class="n">test1</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Test1</span><span class="o">();</span>
        <span class="nc">Test2</span> <span class="n">test2</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Test2</span><span class="o">();</span>
    
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">test1</span><span class="o">.</span><span class="na">s</span> <span class="o">==</span> <span class="n">test2</span><span class="o">.</span><span class="na">s</span><span class="o">);</span> <span class="c1">// true</span>
    <span class="o">}</span>
    
<span class="o">}</span>
</code></pre></div></div><p> <p>String은 여타 Object와 크게 다를 게 없지만, 이 리터럴 표기법만큼은 굉장히 신기하게 동작한다.<p>String을 호출하거나 리터럴 표기법으로 선언할 경우 String에 정의된 <code class="language-plaintext highlighter-rouge">intern</code>이 실행된다.<p> <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">native</span> <span class="nc">String</span> <span class="nf">intern</span><span class="o">();</span>
</code></pre></div></div><p> <p>시그니처에 <code class="language-plaintext highlighter-rouge">native</code>라는 키워드가 들어가 있는데,<p>나는 자바를 공부할 때 native 키워드에 대해<p>자바 외의 언어로 작성된 코드를 자바에서 사용하고자 할 때 사용되는 키워드라고 배웠었다.<p>추적해보니 C계열 언어로 뭔가 많이 적혀있었는데<p>이쯤 되니 너무 멀리 나가는 것 같기도 하고, 능력 밖인 것 같기도 하여 일단 보류하고<p>intern의 Docs를 첨부한다.<p> <blockquote><p>Returns a canonical representation for the string object. A pool of strings, initially empty, is maintained privately by the class String. When the intern method is invoked, if the pool already contains a string equal to this String object as determined by the equals(Object) method, then the string from the pool is returned. Otherwise, this String object is added to the pool and a reference to this String object is returned. It follows that for any two strings s and t, s.intern() == t.intern() is true if and only if s.equals(t) is true. All literal strings and string-valued constant expressions are interned. String literals are defined in section 3.10.5 of the The Java™ Language Specification.</blockquote><p> <p>즉 리터럴 표기법으로 String을 선언하거나, String을 호출했을 때<p>JVM 문자열 풀에 해당 문자열이 존재하면 해당 문자열을 바로 반환해주고,<p>만약 문자열 풀에 해당 문자열이 없다면 문자열을 풀에 등록하고 등록된 문자열을 반환해준다고 한다.<p>리터럴 표기법으로 String 객체를 선언하고 자바 역어셈블러를 이용해 코드를 뜯어봤다.<p> <div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>javap <span class="nt">-verbose</span> StringTest
Warning: Binary file StringTest contains DataStructure.StringTest
Classfile /mnt/d/development/JavaPractice/out/production/JavaPractice/DataStructure/StringTest.class
  Last modified May 19, 2021<span class="p">;</span> size 527 bytes
  MD5 checksum de12796c5d61a5bdd6c8e440e84fbb6e
  Compiled from <span class="s2">"StringTest.java"</span>
public class DataStructure.StringTest
  minor version: 0
  major version: 55
  flags: ACC_PUBLIC, ACC_SUPER
Constant pool:
   <span class="c">#1 = Methodref          #6.#22         // java/lang/Object."&lt;init&gt;":()V</span>
   <span class="c">#2 = Class              #23            // java/lang/String</span>
   <span class="c">#3 = String             #24            // 안녕하세요</span>
   <span class="c">#4 = Methodref          #2.#25         // java/lang/String."&lt;init&gt;":(Ljava/lang/String;)V</span>
   <span class="c">#5 = Class              #26            // DataStructure/StringTest</span>
   <span class="c">#6 = Class              #27            // java/lang/Object</span>
   <span class="c">#7 = Utf8               &lt;init&gt;</span>
   <span class="c">#8 = Utf8               ()V</span>
   <span class="c">#9 = Utf8               Code</span>
  <span class="c">#10 = Utf8               LineNumberTable</span>
  <span class="c">#11 = Utf8               LocalVariableTable</span>
  <span class="c">#12 = Utf8               this</span>
  <span class="c">#13 = Utf8               LDataStructure/StringTest;</span>
  <span class="c">#14 = Utf8               main</span>
  <span class="c">#15 = Utf8               ([Ljava/lang/String;)V</span>
  <span class="c">#16 = Utf8               args</span>
  <span class="c">#17 = Utf8               [Ljava/lang/String;</span>
  <span class="c">#18 = Utf8               s</span>
  <span class="c">#19 = Utf8               Ljava/lang/String;</span>
  <span class="c">#20 = Utf8               SourceFile</span>
  <span class="c">#21 = Utf8               StringTest.java</span>
  <span class="c">#22 = NameAndType        #7:#8          // "&lt;init&gt;":()V</span>
  <span class="c">#23 = Utf8               java/lang/String</span>
  <span class="c">#24 = Utf8               안녕하세요</span>
  <span class="c">#25 = NameAndType        #7:#28         // "&lt;init&gt;":(Ljava/lang/String;)V</span>
  <span class="c">#26 = Utf8               DataStructure/StringTest</span>
  <span class="c">#27 = Utf8               java/lang/Object</span>
  <span class="c">#28 = Utf8               (Ljava/lang/String;)V</span>
<span class="o">{</span>
  public DataStructure.StringTest<span class="o">()</span><span class="p">;</span>
    descriptor: <span class="o">()</span>V
    flags: ACC_PUBLIC
    Code:
      <span class="nv">stack</span><span class="o">=</span>1, <span class="nv">locals</span><span class="o">=</span>1, <span class="nv">args_size</span><span class="o">=</span>1
         0: aload_0
         1: invokespecial <span class="c">#1                  // Method java/lang/Object."&lt;init&gt;":()V</span>
         4: <span class="k">return
      </span>LineNumberTable:
        line 3: 0
      LocalVariableTable:
        Start  Length  Slot  Name   Signature
            0       5     0  this   LDataStructure/StringTest<span class="p">;</span>

  public static void main<span class="o">(</span>java.lang.String[]<span class="o">)</span><span class="p">;</span>
    descriptor: <span class="o">([</span>Ljava/lang/String<span class="p">;</span><span class="o">)</span>V
    flags: ACC_PUBLIC, ACC_STATIC
    Code:
      <span class="nv">stack</span><span class="o">=</span>3, <span class="nv">locals</span><span class="o">=</span>2, <span class="nv">args_size</span><span class="o">=</span>1
         0: new           <span class="c">#2                  // class java/lang/String</span>
         3: dup
         4: ldc           <span class="c">#3                  // String 안녕하세요</span>
         6: invokespecial <span class="c">#4                  // Method java/lang/String."&lt;init&gt;":(Ljava/lang/String;)V</span>
         9: astore_1
        10: <span class="k">return
      </span>LineNumberTable:
        line 6: 0
        line 9: 10
      LocalVariableTable:
        Start  Length  Slot  Name   Signature
            0      11     0  args   <span class="o">[</span>Ljava/lang/String<span class="p">;</span>
           10       1     1     s   Ljava/lang/String<span class="p">;</span>
<span class="o">}</span>
SourceFile: <span class="s2">"StringTest.java"</span>
</code></pre></div></div><p> <p>JVM 상수풀로 보이는 <code class="language-plaintext highlighter-rouge">Constant pool</code>이라고 적혀있는 부분에<p>내가 리터럴 표기법으로 선언한 모든 문자열이 들어있음을 확인할 수 있었다.<p>즉 이 Constant pool에서 문자열을 검색하거나 등록하고 반환한다는 뜻으로 생각된다.<p> <h2 id="-문자열은-리터럴로-생성된-뒤-값을-변경할-수-없다">💡 문자열은 리터럴로 생성된 뒤 값을 변경할 수 없다</h2><hr /><p>String은 불변 객체답게 역시나 수정자(Setter)가 없다.<p>또한 내부적으로 작성된 코드를 보면<p> <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">final</span> <span class="kd">class</span> <span class="nc">String</span>
    <span class="kd">implements</span> <span class="n">java</span><span class="o">.</span><span class="na">io</span><span class="o">.</span><span class="na">Serializable</span><span class="o">,</span> <span class="nc">Comparable</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;,</span> <span class="nc">CharSequence</span> <span class="o">{</span>

    <span class="nd">@Stable</span>
    <span class="kd">private</span> <span class="kd">final</span> <span class="kt">byte</span><span class="o">[]</span> <span class="n">value</span><span class="o">;</span>
    
    <span class="o">...</span>
    
<span class="o">}</span>
</code></pre></div></div><p> <p>이와 같이 <code class="language-plaintext highlighter-rouge">final</code>로 선언돼있음을 알 수 있다.<p>즉 값을 바꾸고 싶어도 바꿀 수가 없다.<p>값을 바꾸고 싶다면 아예 새로운 인스턴스를 만들어서 주소를 참조해야만 한다.<p> </article><hr class="dingbat related mb6" /><aside class="about related mt4 mb4" role="complementary"><div class="author mt4"> <img src="/assets/img/me.gif" srcset="/assets/img/me.gif 1x,/assets/img/me.gif 2x" alt="shirohoo" class="avatar" width="120" height="120" loading="lazy" /><h2 class="page-title hr-bottom"> About Me</h2><div class="sidebar-social"> <span class="sr-only">Social:</span><ul><li> <a href="https://github.com/shirohoo" title="GitHub" class="no-mark-external"> <span class="icon-github"></span> <span class="sr-only">GitHub</span> </a><li> <a href="mailto:shirohoo4102@gmail.com" title="Email" class="no-mark-external"> <span class="icon-mail"></span> <span class="sr-only">Email</span> </a><li> <a href="https://shirohoo.github.io/feed.xml" title="RSS" class="no-mark-external"> <span class="icon-rss2"></span> <span class="sr-only">RSS</span> </a></ul></div></div></aside><aside class="other-projects related mb0" role="complementary"><h2>Related Posts</h2><div class="columns"><div class="column column-1-2"><article class="project-card"> <a href="/backend/java/2021-01-17-dto-vo/" class="no-hover no-print-link flip-project" tabindex="-1"><div class="project-card-img aspect-ratio sixteen-nine flip-project-img"> <img src="/assets/img/backend/java.png" alt="DTO와 VO의 차이" width="864" height="486" loading="lazy"/></div></a><h3 class="project-card-title flip-project-title"> <a href="/backend/java/2021-01-17-dto-vo/" class="flip-title">DTO와 VO의 차이</a></h3><p class="project-card-text fine" property="disambiguatingDescription"> 초보자들이 가장 많이 실수하는 <code class="language-plaintext highlighter-rouge">DTO(Data Transfer Object)</code>와 <code class="language-plaintext highlighter-rouge">VO(Value Object)</code>에 대한 정리 <a class="fill-card no-hover" href="/backend/java/2021-01-17-dto-vo/" tabindex="-1"><span class="sr-only">Continue reading DTO와 VO의 차이</span></a></article></div><div class="column column-1-2"><article class="project-card"> <a href="/backend/java/2021-01-16-java-jvm/" class="no-hover no-print-link flip-project" tabindex="-1"><div class="project-card-img aspect-ratio sixteen-nine flip-project-img"> <img src="/assets/img/backend/java.png" alt="Java와 JVM(Java Virtual Machine)" width="864" height="486" loading="lazy"/></div></a><h3 class="project-card-title flip-project-title"> <a href="/backend/java/2021-01-16-java-jvm/" class="flip-title">Java와 JVM(Java Virtual Machine)</a></h3><p class="project-card-text fine" property="disambiguatingDescription"> <code class="language-plaintext highlighter-rouge">Java</code>와 <code class="language-plaintext highlighter-rouge">JVM(Java Virtual Machine)</code>에 대한 정리 <a class="fill-card no-hover" href="/backend/java/2021-01-16-java-jvm/" tabindex="-1"><span class="sr-only">Continue reading Java와 JVM(Java Virtual Machine)</span></a></article></div></div></aside><aside class="related mb4" role="complementary"><h2 class="hr-bottom">Random Posts</h2><ul class="related-posts"><li class="h6"><div> <time style="display: inline-block; margin-right: 1rem;" class="faded fine" datetime="2021-01-14T13:22:00+00:00">14 Jan 2021</time> <a href="/backend/test/2021-01-14-tdd-2/" class="flip-title"><span>테스트 주도 개발(Test-Driven Development, TDD) - 2</span></a></div><li class="h6"><div> <time style="display: inline-block; margin-right: 1rem;" class="faded fine" datetime="2022-09-24T00:00:00+00:00">24 Sep 2022</time> <a href="/diary/2022-09-24-diary-45/" class="flip-title"><span>클린 코드, 기술 부채, 성공적인 프로젝트</span></a></div><li class="h6"><div> <time style="display: inline-block; margin-right: 1rem;" class="faded fine" datetime="2020-10-29T23:22:00+00:00">29 Oct 2020</time> <a href="/backend/java/2020-10-29-java-constructor/" class="flip-title"><span>생성자(Constructor)</span></a></div></ul></aside><aside class="comments related" role="complementary"><h2 class="hr-bottom">Comments</h2><script src="https://utteranc.es/client.js" repo= shirohoo/shirohoo.github.io.comments issue-term= pathname theme= github-light crossorigin= "anonymous" async> </script></aside><footer class="content" role="contentinfo"><hr/><p><small class="copyright">© 2022. All rights reserved. </small><nav class="legal"><small> <a class="heading flip-title" href="/LICENSE/">LICENSE</a> </small></nav><hr class="sr-only"/></footer></main><hy-drawer id="_drawer" class="" side="left" threshold="10" noscroll ><header id="_sidebar" class="sidebar" role="banner"><div class="sidebar-bg sidebar-overlay" style="background-color:rgb(8,46,57);background-image:url(/assets/img/sidebar-bg.gif)"></div><div class="sidebar-sticky"><div class="sidebar-about"> <a class="no-hover" href="/" tabindex="-1"> <img src="/assets/img/me.gif" class="avatar" alt="돈 받고 일하면 프로" width="120" height="120" loading="lazy" /> </a> <a class="sidebar-title" href="/"><h2 class="h1">돈 받고 일하면 프로</h2></a><p class=""> 우리는 직장에서 훈련을 하기 때문에 매번 실수를 반복한다</div><nav class="sidebar-nav heading" role="navigation"> <span class="sr-only">Navigation:</span><ul><li><div class="menu-wrapper" onmouseover="javascript:spread(9)" onmouseout="javascript:spread(9)"> <a id="_drawer--opened" href="/about/" class="sidebar-nav-item " > About Me </a></div><li><div class="menu-wrapper" onmouseover="javascript:spread(10)" onmouseout="javascript:spread(10)"> <a href="/diary/" class="sidebar-nav-item " > Diary </a></div><li><div class="menu-wrapper" onmouseover="javascript:spread(11)" onmouseout="javascript:spread(11)"> <a href="/financial/" class="sidebar-nav-item " > Financial </a></div><li><div class="menu-wrapper" onmouseover="javascript:spread(12)" onmouseout="javascript:spread(12)"> <a href="/debugging/" class="sidebar-nav-item " > Debugging </a></div><li><div class="menu-wrapper" onmouseover="javascript:spread(13)" onmouseout="javascript:spread(13)"> <button class="spread-btn"> <span id="spread-icon-13" class="material-icons">arrow_right</span> </button> <a href="/cs/" class="sidebar-nav-item " > Computer Science </a><div id="submenu-13" class="menu-wrapper submenu hide"><ul style="list-style: none;"><li> <a class="sidebar-nav-item " href="/cs/operating-system/" > 운영체제 </a><li> <a class="sidebar-nav-item " href="/cs/software-design/" > 소프트웨어 설계 </a><li> <a class="sidebar-nav-item " href="/cs/database-construct/" > 데이터베이스 구축 </a><li> <a class="sidebar-nav-item " href="/cs/leverage-programming/" > 프로그래밍 활용 </a><li> <a class="sidebar-nav-item " href="/cs/information-system/" > 정보시스템 구축 </a><li> <a class="sidebar-nav-item " href="/cs/data-structure-algorithm/" > 자료구조 & 알고리즘 </a></ul></div></div><li><div class="menu-wrapper" onmouseover="javascript:spread(14)" onmouseout="javascript:spread(14)"> <button class="spread-btn"> <span id="spread-icon-14" class="material-icons">arrow_right</span> </button> <a href="/backend/" class="sidebar-nav-item " > BackEnd </a><div id="submenu-14" class="menu-wrapper submenu hide"><ul style="list-style: none;"><li> <a class="sidebar-nav-item " href="/backend/test/" > Test </a><li> <a class="sidebar-nav-item " href="/backend/java/" > Java </a><li> <a class="sidebar-nav-item " href="/backend/python/" > Python </a><li> <a class="sidebar-nav-item " href="/backend/groovy/" > Groovy </a><li> <a class="sidebar-nav-item " href="/backend/gradle/" > Gradle </a><li> <a class="sidebar-nav-item " href="/backend/database/" > Database </a><li> <a class="sidebar-nav-item " href="/backend/server-side/" > Server Side </a></ul></div></div><li><div class="menu-wrapper" onmouseover="javascript:spread(15)" onmouseout="javascript:spread(15)"> <button class="spread-btn"> <span id="spread-icon-15" class="material-icons">arrow_right</span> </button> <a href="/spring/" class="sidebar-nav-item " > Spring </a><div id="submenu-15" class="menu-wrapper submenu hide"><ul style="list-style: none;"><li> <a class="sidebar-nav-item " href="/spring/spring-boot/" > Spring Boot </a><li> <a class="sidebar-nav-item " href="/spring/spring-mvc/" > Spring MVC </a><li> <a class="sidebar-nav-item " href="/spring/spring-security/" > Spring Security </a><li> <a class="sidebar-nav-item " href="/spring/spring-data-jpa/" > Spring Data Jpa </a><li> <a class="sidebar-nav-item " href="/spring/spring-batch/" > Spring Batch </a><li> <a class="sidebar-nav-item " href="/spring/spring-webflux/" > Spring WebFlux </a><li> <a class="sidebar-nav-item " href="/spring/spring-cloud/" > Spring Cloud </a></ul></div></div><li><div class="menu-wrapper" onmouseover="javascript:spread(16)" onmouseout="javascript:spread(16)"> <button class="spread-btn"> <span id="spread-icon-16" class="material-icons">arrow_right</span> </button> <a href="/frontend/" class="sidebar-nav-item " > FrontEnd </a><div id="submenu-16" class="menu-wrapper submenu hide"><ul style="list-style: none;"><li> <a class="sidebar-nav-item " href="/frontend/javascript/" > Javascript </a><li> <a class="sidebar-nav-item " href="/frontend/vue/" > Vue.js </a></ul></div></div><li><div class="menu-wrapper" onmouseover="javascript:spread(17)" onmouseout="javascript:spread(17)"> <button class="spread-btn"> <span id="spread-icon-17" class="material-icons">arrow_right</span> </button> <a href="/ide/" class="sidebar-nav-item " > IDE </a><div id="submenu-17" class="menu-wrapper submenu hide"><ul style="list-style: none;"><li> <a class="sidebar-nav-item " href="/ide/intellij/" > IntelliJ </a></ul></div></div></ul></nav><div style="text-align:center;"> <a href="https://hits.seeyoufarm.com"> <img src="https://hits.seeyoufarm.com/api/count/incr/badge.svg?url=https%3A%2F%2Fshirohoo.github.io&count_bg=%23A30AC9&title_bg=%23686262&icon=electron.svg&icon_color=%23FFFFFF&title=hits&edge_flat=false"/> </a></div><div class="sidebar-social"> <span class="sr-only">Social:</span><ul><li> <a href="https://github.com/shirohoo" title="GitHub" class="no-mark-external"> <span class="icon-github"></span> <span class="sr-only">GitHub</span> </a><li> <a href="mailto:shirohoo4102@gmail.com" title="Email" class="no-mark-external"> <span class="icon-mail"></span> <span class="sr-only">Email</span> </a><li> <a href="https://shirohoo.github.io/feed.xml" title="RSS" class="no-mark-external"> <span class="icon-rss2"></span> <span class="sr-only">RSS</span> </a></ul></div></div></header></hy-drawer><hr class="sr-only" hidden /> </hy-push-state> <!--[if gt IE 10]><!----> <script nomodule>!function(){var t,n=document.createElement("script");!("noModule"in n)&&"onbeforeload"in n&&(t=!1,document.addEventListener("beforeload",function(e){if(e.target===n)t=!0;else if(!e.target.hasAttribute("nomodule")||!t)return;e.preventDefault()},!0),n.type="module",n.src=".",document.head.appendChild(n),n.remove())}(); </script> <script src="/assets/js/hydejack-9.1.5.js" type="module"></script> <script src="/assets/js/LEGACY-hydejack-9.1.5.js" nomodule defer></script> <!-- mouse event cancel --> <script> document.oncontextmenu = function (e) { return false; }; document.onselectstart = function (e) { return false; }; </script> <script>!function(w, d) { w.ga=w.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date; /**/ ga('create', 'G-NKVY3834TW', 'auto'); /**/ var pushStateEl = d.getElementById('_pushState'); var timeoutId; pushStateEl.addEventListener('hy-push-state-load', function() { w.clearTimeout(timeoutId); timeoutId = w.setTimeout(function() { ga('set', 'page', w.location.pathname); ga('send', 'pageview'); }, 500); }); d.addEventListener('hy--cookies-ok', function () { w.ga(function(tracker) { w.ga("set", "anonymizeIp", undefined); localStorage && localStorage.setItem("ga--client-id", tracker.get("clientId")); }); }); w.loadJSDeferred('https://www.google-analytics.com/analytics.js'); }(window, document);</script> <!--<![endif]--><div hidden><h2 class="sr-only">Templates (for web app):</h2><clap-config> <clap-text at="1">Keep going!</clap-text> <clap-text at="2">Keep going ×2!</clap-text> <clap-text at="3">Give me more!</clap-text> <clap-text at="5">Thank you, thank you</clap-text> <clap-text at="7">Far too kind!</clap-text> <clap-text at="10">Never gonna give me up?</clap-text> <clap-text at="14">Never gonna let me down?</clap-text> <clap-text at="20">Turn around and desert me!</clap-text> <clap-text at="30">You're an addict!</clap-text> <clap-text at="40">Son of a clapper!</clap-text> <clap-text at="50">No way</clap-text> <clap-text at="60">Go back to work!</clap-text> <clap-text at="70">This is getting out of <em>hand</em></clap-text> <clap-text at="80">Unbelievable</clap-text> <clap-text at="90">PREPOSTEROUS</clap-text> <clap-text at="100">I N S A N I T Y</clap-text> <clap-text at="185"><span style="font-family:monospace">FEED ME A STRAY CAT</span></clap-text> </clap-config> <template id="_animation-template"><div class="animation-main fixed-top"><nav id="breadcrumbs" class="screen-only"><ul></ul></nav><div class="content"><div class="page"></div></div></div></template> <template id="_loading-template"><div class="loading nav-btn fr"> <span class="sr-only">Loading…</span> <span class="icon-cog"></span></div></template> <template id="_error-template"><div class="page"><h1 class="page-title">Error</h1><p class="lead"> Sorry, an error occurred while loading <a class="this-link" href=""></a>.</div></template> <template id="_permalink-template"> <a href="#" class="permalink"> <span class="sr-only">Permalink</span> <span class="content-hash"></span> </a> </template> <template id="_dark-mode-template"> <button id="_dark-mode" class="nav-btn no-hover" > <span class="sr-only">Dark Mode</span> <span class="icon-brightness-contrast"></span> </button> </template> <template id="_search-template"> <button id="_search" class="nav-btn no-hover"> <label class="sr-only" for="_search-input">Search</label> <span class="icon-search"></span> </button><div id="_search-box"> <input id="_search-input" type="search" class="form-control form-control-lg nav-btn" placeholder="Type something…" /> <button type="reset" class="nav-btn no-hover"> <span class="sr-only">Close</span> <span class="icon-cross"></span> </button></div><div id="_hits"></div></template></div></html>
